## 自主可控、安全可控 - 为什么选择开源数据库、如何选择、需要做哪些准备   
                                                                   
### 作者                                                                   
digoal                                                                   
                                                                   
### 日期                                                                   
2018-11-01                                                                 
                                                                   
### 标签                                                                   
PostgreSQL , 开源产品 , 生态 , 人才梯队 , 自主可控            
                                                                   
----                                                                   
                                                                   
## 背景    
分析企业为什么要选择开源产品，如何选择开源产品，需要做哪些准备。  
  
以数据库为例。  
  
# 一、为什么选择开源数据库？  
  
1、安全可控  
  
2、自主可控  
  
3、成本，随着业务架构变迁，微服务化改造等，数据库单体需求量越来越多，而传统的商用数据库计算许可  
  
4、生态，当整个社会都在往开源转，生态会更加倾向开源端。包括人才、软件、硬件的支持。  
  
5、发展趋势，目前来看开源由于具备了诸多优势，发展非常好。  
  
6、国际形势，商用数据库受国际形势影响，越来越多企业或特殊行业不愿意或无法选择商用数据库。  
  
# 二、如何选择开源数据库？  
  
## 1 开源数据库与商用数据库利弊  
开源，自主可控。  
  
商用，有商用公司背书（背锅）。  
  
开源+商用（通常商用的部分与开源的部分，代码并不完全一样，毕竟是要赚钱的，需要差异化），安全可控，有商用公司背书（背锅）。典型例子，比如开源数据库的云服务。  
  
## 2 是否需要外部案例背书  
  
例子，很多传统企业（航空，银行等），使用一款数据库时，如果是较为重要的场景，需要考虑这款数据库产品有没有同行业案例，说白了就是不愿意吃螃蟹，或者说不愿意担太多风险。  
  
悖论例子，这类公司如果走自主可控（自研开源数据库）线路，会带来一个问题，没有人给你自研数据库背书，自己试用，自己摸索，最后在企业内部的产品化、商用时间会非常漫长。另一方面自研数据库的部门，由于研发的产品只供内部使用，没有足够的案例、场景、使用CASE来支撑这块产品在不同场景下的考验。很难做成一个成熟的产品。  
  
## 3 有哪些案例背书  
你所选的开源数据库，有哪些同行、国内外的用户、案例背书？  
  
比如，对于PG这款数据库，在国内外，基本上每个行业的TOP客户里面都有在使用。  
  
## 4 自建与云的区别  
自建的特点，悖论例子，这类公司如果走自主可控（自研开源数据库）线路，会带来一个问题，没有人给你自研数据库背书，自己试用，自己摸索，最后在企业内部的产品化、商用时间会非常漫长。另一方面自研数据库的部门，由于研发的产品只供内部使用，没有足够的案例、场景、使用CASE来支撑这块产品在不同场景下的考验。很难做成一个成熟的产品。  
  
云的特点，云作为厂商，目标很清晰，要做商用的，自主可控，安全可控的产品。并且有足够多的用户群体，淬炼产品，稳定性、产品化程度一定是自建无法匹敌的。  
  
## 5 自建与采购商业数据库的区别  
商业数据库，生态是比较成熟的，但是商用成本可能高，而且以软件分发的形式提供，用户需要自己创建备份、容灾、HA、等整个数据库生命周期中的管理。  
  
自建，所有事情都完全要自己搞定。（BUG FIX，备份、容灾、HA、等整个数据库生命周期中的管理）  
  
云，服务方式提供，非软件分发方式。所以对用户来说，只需要使用，不需要关心后面是怎么做备份、容灾、HA、等整个数据库生命周期中的管理的。用户专注于自己的业务，这才是用户的核心价值。  
  
## 6 开源数据库选型的考量因素  
  
1、同类开源产品很多，如何选择？  
  
同行应用案例，应用的场景。  
  
开源产品的功能、性能、可用性、可靠性、架构差异。  
  
2、目标是什么，选择开源数据库解决什么问题？  
  
3、技术  
  
技术架构，先进性。  
  
4、生态  
  
人才、周边软件、用户组、开发组等活跃程度，支持程度。  
  
5、趋势  
  
发展趋势，未来的发展预测。  
  
6、技术栈  
  
最不需要关注的就是公司内部对开源产品的技术栈，因为人才都是可以培养的。  
  
从ORACLE DBA转PG DBA，个把月就可以了（亲身经历）。  
  
几个例子:  平安、招商、探探、阿里等，由于社招周期可能比较长，同时金字塔顶端的人才通常比较少也比较难招聘，所以还需要招聘有潜力的小伙伴或者校招进行持续培养。  
  
## 7 技术栈、人才问题  
1、社招同等技术人才，比如PG。  
  
2、社招相通技术人才，比如ORACLE。  
  
3、校招，培养。   
  
# 三、需要做哪些准备  
  
## 1 推行开源数据库的阻力  
要知道哪些方面可能会有推行阻力。  
  
## 2 推行开源数据库的驱动力  
找到推行开源数据库的驱动力在哪里？为什么要上开源数据库？  
  
## 3 理清利益分配  
在切换到开源数据库的项目中，有哪些利益关联体，如何分配利益。  
  
例如传统行业去O，就会涉及到：  
  
1、硬件厂商，原来带O，现在可能带的是开源数据库。  
  
2、原商用数据库厂商  
  
3、采购部门  
  
4、开发者，原来基于O开发，现在基于开源数据库开发。肯定是有阻力的。  
  
5、运维，运维O到运维PG，或者上云（应该将日常经历回归到业务本身，而不是数据库）  
  
6、企业财务，负责钱的。  
  
7、企业老板。  
  
每个环节在去O前是如何运作，利益如何。在去O项目中，应该做哪些转变，利益如何最大化？  
  
## 4 如何打通关节  
  
每个环节在去O前是如何运作，利益如何。在去O项目中，应该做哪些转变，利益如何最大化？  
  
## 5 如何建设人才梯队  
底层DBA  
  
开发DBA  
  
开发者  
  
## 6 自建人才梯队的程度、难度  
自建到什么程度，需要考虑部门的核心KPI是什么，从而考虑需要哪些方面的人才，分工如何？  
  
难度，取决于用到什么程度，以及数据库对整个企业的重要程度，数据库的问题会不会直接影响企业的命脉。    
  
## 7 是否需要外部兜底  
外部兜底，商用产品有商用公司兜底（背锅）。  
  
云产品，有云数据库厂商兜底（背锅）。  
  
自研数据库产品，最多可以找个外包服务团队（但是他们无法背锅），背锅一定是产品提供方。所以自建数据库，背锅侠就是自己了。  
  
## 8 谁可以兜底  
看什么样的公司，至少你应该找一个赔得起的公司的产品，例如注册资本1亿，你的使用数据库的项目，如果出问题，如果是数据库产品问题，也许可以赔付1亿，但实际上谁也不知道。  
  
对于提供产品的公司，如果很小，而你的公司很大，你可能最大的疑虑是使用了这样的产品，这家公司还能活多久都不清楚。  
  
所以对于较大公司来说，应用于重要场合的产品，还是需要向大公司采购，小公司基本上很难被选中。  
  
## 9 数据库按重要程度的划分  
企业内应该有对数据库划分重要程度的制度。  
  
## 10 开源数据库的推行落地方法  
1、迁移切换，周期长，难度大。  
  
2、新项目，研发、运维适应。使用云数据库服务的话，周期较短。  
  
## 11 去商业数据库（比如O）节奏  
  
[ADAM+PPAS](https://promotion.aliyun.com/ntms/act/ppasadam.html)，目前靠谱的去O方式。  
  
[ADAM](https://promotion.aliyun.com/ntms/act/ppasadam.html)提供ORACLE的评估，迁移，优化，数据回流，性能比对等一条龙服务。  
  
    
  
<a rel="nofollow" href="http://info.flagcounter.com/h9V1"  ><img src="http://s03.flagcounter.com/count/h9V1/bg_FFFFFF/txt_000000/border_CCCCCC/columns_2/maxflags_12/viewers_0/labels_0/pageviews_0/flags_0/"  alt="Flag Counter"  border="0"  ></a>  
  
  
## [digoal's 大量PostgreSQL文章入口](https://github.com/digoal/blog/blob/master/README.md "22709685feb7cab07d30f30387f0a9ae")
  
  
## [免费领取阿里云RDS PostgreSQL实例、ECS虚拟机](https://free.aliyun.com/ "57258f76c37864c6e6d23383d05714ea")
  
