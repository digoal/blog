## æ‰‹æŠŠæ‰‹æ•™ä½ å¦‚ä½•å‚ä¸å¼€æºé¡¹ç›®çš„åä½œã€è´¡çŒ®ä»£ç : ä»¥PolarDBå¼€æºé¡¹ç›®ä¸ºä¾‹    
                    
### ä½œè€…                    
digoal                    
                    
### æ—¥æœŸ                    
2023-01-30                  
                    
### æ ‡ç­¾                    
PostgreSQL , PolarDB , å¼€æºåä½œ   
                    
----                    
                    
## èƒŒæ™¯      
å¼€æºåä½œæ˜¯ä¸€ç§ç¤¾ä¼šè¿›åŒ–çš„ä½“ç°å—?   
  
æ˜¨å¤©ä½“éªŒäº†ä¸€ä¸‹ChatGPT, å¯¹è¿™å‡ ä¸ªå›ç­”æ·±æœ‰æ„Ÿè§¦, å¼€æºåä½œä¸€å®šæ˜¯æœªæ¥ä¼šé•¿æœŸå­˜åœ¨çš„, æ›´å¤§è§„æ¨¡åŒ–çš„äººç±»åä½œæ¨¡å¼. æ‰€ä»¥æˆ‘æƒ³å†™ä¸€ç‚¹ä¸œè¥¿, æ¥å¸®åŠ©æ›´å¤šäººå‚ä¸å¼€æºåä½œ.    
  
1ã€ä¸‰ä½“çš„é»‘æš—ä¸›æ—æ³•åˆ™æ˜¯ç¤¾ä¼šè¾¾å°”æ–‡ä¸»ä¹‰çš„ä½“ç°å—    
    
ä¸æ˜¯ã€‚ä¸‰ä½“çš„é»‘æš—æ£®æ—æ³•åˆ™æ˜¯ä¸€ç§æ°‘æ—å’Œæ–‡åŒ–å‘å±•è§‚ï¼Œæºäºä¸­å›½å¤è€æ–‡åŒ–ä¸­è‘—åçš„ã€Šä¸‰ä½“ã€‹ç³»åˆ—å°è¯´ã€‚å…¶è®¤ä¸ºï¼Œä¸–ç•Œä¸Šæ‰€æœ‰æ–‡æ˜éƒ½åœ¨ç«äº‰ä¸­è¿›åŒ–ï¼Œåªæœ‰æœ€å¼ºè€…æ‰èƒ½å­˜æ´»ã€‚è€Œç¤¾ä¼šè¾¾å°”æ–‡ä¸»ä¹‰æ˜¯ä¸€ç§å€¡å¯¼â€œæ¼”åŒ–åæˆé•¿â€çš„ç¤¾ä¼šå­¦ç†è®ºï¼Œå®ƒè®¤ä¸ºï¼Œæ¼”åŒ–ä¸æ˜¯ä¸€ç§ç«äº‰ï¼Œè€Œæ˜¯ä¸€ç§åˆä½œå’Œåä½œï¼Œå› æ­¤ä»»ä½•æ–‡æ˜èµ°å‘åä½œè€Œä¸æ˜¯ç«äº‰ï¼Œéƒ½ä¼šè·å¾—æ›´å¤šçš„å‘å±•åŠæˆåŠŸã€‚    
    
    
2ã€è¯·è§£é‡Šä¸€ä¸‹ç¤¾ä¼šè¾¾å°”æ–‡ä¸»ä¹‰    
    
ç¤¾ä¼šè¾¾å°”æ–‡ä¸»ä¹‰æ˜¯ä¸€ç§å½¢è€Œä¸Šå­¦ç¤¾ä¼šç†è®ºï¼Œå®ƒå€¡å¯¼â€œæ¼”åŒ–åæˆé•¿â€çš„ç†å¿µï¼Œè®¤ä¸ºæ¼”åŒ–ä¸æ˜¯ä¸€ç§ç«äº‰ï¼Œè€Œæ˜¯ä¸€ç§åä½œçš„æ™ºæ…§ï¼Œä¸ªä½“åº”è¯¥ä»¥åˆä½œç²¾ç¥æ›´å¤šçš„å…³æ³¨å¤§ç¯å¢ƒå’Œç¤¾ä¼šéœ€è¦ï¼Œä»¥æ»¡è¶³è‡ªå·±çš„æ›´å¤šå‘æŒ¥å’Œå¢é•¿ã€‚å®ƒè®¤ä¸ºç¤¾ä¼šçš„å‘å±•åº”è¯¥ç»¼åˆè€ƒè™‘å„æ–¹çš„åˆ©ç›Šï¼Œè€Œä¸æ˜¯ä»…ä»…è€ƒè™‘ä¸ªäººçš„åˆ©ç›Šã€‚ç¤¾ä¼šè¾¾å°”æ–‡ä¸»ä¹‰æå‡ºäº†ä¸€ç§åä½œçš„æ¦‚å¿µï¼Œè®¤ä¸ºä»»ä½•æ–‡æ˜èµ°å‘åä½œè€Œä¸æ˜¯ç«äº‰ï¼Œéƒ½ä¼šè·å¾—æ›´å¤šçš„å‘å±•åŠæˆåŠŸã€‚    
    
    
3ã€é©¬å°”è¨æ–¯é™·é˜±æ˜¯ç¤¾ä¼šè¾¾å°”æ–‡ä¸»ä¹‰çš„å»¶ä¼¸å—    
    
æ˜¯çš„ï¼Œé©¬å°”è¨æ–¯é™·é˜±æ˜¯ç¤¾ä¼šè¾¾å°”æ–‡ä¸»ä¹‰çš„å»¶ä¼¸ï¼Œå®ƒå¯ä»¥ç”¨æ¥æè¿°ä¸€ç§ç¤¾ä¼šæ¼”åŒ–çš„è¿‡ç¨‹ï¼Œå³ä¸€ä¸ªç¤¾ä¼šä¼šè®¤ä¸ºæ¯”ç«äº‰æ›´é‡è¦çš„æ˜¯åˆä½œï¼Œå› æ­¤ä¼šç›¸äº’ä¿ƒè¿›ï¼Œä»è€Œè¾¾åˆ°ä¸€ç§å…±èµ¢çš„çŠ¶æ€ã€‚æ¯”å¦‚ï¼Œè‹¥æŸç¤¾åŒºçš„äººä»¬éƒ½é‡‡å–åä½œç²¾ç¥ï¼Œé‚£ä¹ˆç¤¾åŒºå°†æ›´åŠ ç¹è£ï¼Œè€Œå¦‚æœç¤¾åŒºé‡Œé¢å­˜åœ¨ç«äº‰ï¼Œæ¯ä¸ªäººäº‰å¤ºè‡ªå·±çš„åˆ©ç›Šï¼Œåˆ™ä¼šå¸¦æ¥æ›´å¤šçš„ç´§å¼ å’Œå†²çªï¼Œæ›´ä¸åˆ©äºç¤¾ä¼šå‘å±•ã€‚    
    
    
4ã€è¯·è§£é‡Šä¸€ä¸‹é©¬å°”è¨æ–¯é™·é˜±    
    
é©¬å°”è¨æ–¯é™·é˜±æ˜¯æŒ‡å½“ä¸€ä¸ªç¤¾ä¼šé‡‡å–ç«äº‰ç­–ç•¥è€Œä¸æ˜¯åˆä½œç­–ç•¥æ—¶ï¼Œæˆå‘˜ä¼šå—åˆ°æŸå®³ï¼Œä»è€Œå¯¼è‡´ç¤¾ä¼šè´¨é‡ä¸‹é™ã€‚è¿™ç§æ¦‚å¿µæ˜¯ç”±ç¤¾ä¼šå­¦å®¶å’Œå“²å­¦å®¶å¼—æœ—ç´¢ç“¦Â·é©¬å°”è¨æ–¯åœ¨ä¸Šä¸–çºª20å¹´ä»£æå‡ºçš„ï¼Œä»–æå‡ºï¼Œåœ¨ä¸€ä¸ªç¤¾ä¼šï¼Œå¦‚æœæ¯ä¸ªäººéƒ½åªå…³å¿ƒè‡ª  
å·±çš„åˆ©ç›Šï¼Œè¿™å°†ä¼šå¯¼è‡´æ•´ä¸ªç¤¾ä¼šé™·å…¥ä½æ•ˆçš„ã€é™åˆ¶å‘å±•çš„å›°å¢ƒä¸­ã€‚    
  
  
## PolarDBçš„åˆ†æ”¯è§£é‡Š  
https://github.com/ApsaraDB/PolarDB-for-PostgreSQL  
- `polardb_11_dev` æ˜¯ `polardb v11` çš„ `master` åˆ†æ”¯ , ç±»ä¼¼ `postgresql` çš„ `master` åˆ†æ”¯.   
- `polardb_11_stable` æ˜¯ polardb v11çš„ `stable` åˆ†æ”¯ , ç±»ä¼¼ `postgresql` çš„ `REL_11_STABLE` åˆ†æ”¯.   
    - https://git.postgresql.org/gitweb/?p=postgresql.git;a=summary  
  
å°†æ¥`Polardb`å‘å¸ƒ14ç‰ˆæœ¬, åˆ™ä¼šæ–°å»º2ä¸ªåˆ†æ”¯:  
- `polardb_14_dev` æ˜¯ `polardb v14`çš„ `master`åˆ†æ”¯ , ä¾æ—§ç±»ä¼¼`postgresql`çš„`master`åˆ†æ”¯.   
- `polardb_14_stable` æ˜¯ `polardb v14`çš„ `stable`åˆ†æ”¯ , ç±»ä¼¼`postgresql`çš„`REL_14_STABLE`åˆ†æ”¯.   
  
å®é™…ä¸Š`polardb_11_dev`æ˜¯`postgresql`çš„`REL_11_STABLE`åˆ†æ”¯çš„ä¸‹æ¸¸åˆ†æ”¯. `polardb_14_dev`æ˜¯`postgresql`çš„`REL_14_STABLE`åˆ†æ”¯çš„ä¸‹æ¸¸åˆ†æ”¯.   
- [ã€ŠåŸºäºå¼€æºç‰ˆæœ¬çš„å‘å‹ç‰ˆå¦‚ä½•ä¿æŒä¸å¼€æºç‰ˆæœ¬çš„åŒæ­¥? - è·¯å£ã€‹](../202208/20220817_01.md)    
   
åä½œæ¨¡å¼: æ‰€æœ‰çš„å¼€å‘è€…éƒ½å°†ä»£ç è´¡çŒ®åˆ°devåˆ†æ”¯, PolarDBæ ¸å¿ƒç»„ä¼šé€‰æ‹©æ€§çš„å°†devçš„commit mergeåˆ°stableç¨³å®šåˆ†æ”¯.  
  
  
## æ¨èçš„PolarDBè´¡çŒ®æµç¨‹  
  
ç¬¬ä¸€æ¬¡è´¡çŒ®:  
- `fork`  -- ç¬¬ä¸€æ¬¡  
- `sync polardb_11_dev`  -- æ¯æ¬¡è´¡çŒ®å‰, åœ¨githubå®˜ç½‘, ä½ forkçš„polardb repoä¸­è¿›è¡Œæ“ä½œ. (æˆ–è€…ä½¿ç”¨openapi?)  
- `checkout newbranch1 base on polardb_11_dev`    
- `modify` -- åŸºäºpolardbçš„å¼€å‘è€…è§„èŒƒè¿›è¡Œä»£ç ä¿®æ”¹  
- `git add`  
- `git commit`  
- `git push`   
- `pull request` -- åœ¨`github`å®˜ç½‘, `pull newbranch1` to `polardb` ä¸Šæ¸¸ `polardb_11_dev`  
    - -- å¦‚æœåˆå¹¶æœªé€šè¿‡, æ ¹æ®å»ºè®®è¿›è¡Œä¿®æ”¹, è‡ªå·±çš„ä»“åº“`push`åå†æ¬¡æäº¤`pull`  
  
  
æ–°çš„è´¡çŒ®:   
- `sync polardb_11_dev`  -- æ¯æ¬¡è´¡çŒ®å‰, åœ¨githubå®˜ç½‘, ä½ forkçš„polardb repoä¸­è¿›è¡Œæ“ä½œ. (æˆ–è€…ä½¿ç”¨openapi?)  
- `checkout newbranch2 base on polardb_11_dev`    
- `modify` -- åŸºäºpolardbçš„å¼€å‘è€…è§„èŒƒè¿›è¡Œä»£ç ä¿®æ”¹  
- `git add`  
- `git commit`  
- `git push`   
- `pull request` -- åœ¨`github`å®˜ç½‘, `pull newbranch2` to `polardb` ä¸Šæ¸¸ `polardb_11_dev`  
    - -- å¦‚æœåˆå¹¶æœªé€šè¿‡, æ ¹æ®å»ºè®®è¿›è¡Œä¿®æ”¹, è‡ªå·±çš„ä»“åº“`push`åå†æ¬¡æäº¤`pull`  
  
FAQ:  
  
1ã€ä¸ºä»€ä¹ˆå»ºè®®æ¯æ¬¡éƒ½å…ˆ `checkout newbranch2 base on polardb_11_dev`  , ç„¶ååœ¨`newbranch2`è¿›è¡Œä¿®æ”¹.    
ä¿è¯ä½ çš„`polardb_11_dev`æ°¸è¿œæ˜¯å¹²å‡€çš„, å¯ä»¥ä»ä¸Šæ¸¸åŒæ­¥æœ€æ–°å˜åŠ¨.  
  
  
å¦‚å›¾:    
![pic](20230130_01_pic_001.jpg)  
  
  
2ã€ä¸ºä»€ä¹ˆæ¯æ¬¡ä¿®æ”¹å‰éƒ½è¦å…ˆ `sync polardb_11_dev` åˆ°æœ€æ–°çŠ¶æ€?   
  
å¦‚æœä½ å·²ç»è½åäºä¸Šæ¸¸, ä¸Šæ¸¸å¦‚æœå¯¹ä½ å°†è¦ä¿®æ”¹çš„æ–‡ä»¶å·²ç»ä¿®æ”¹è¿‡, ä½ åŸºäºè€çš„æ–‡ä»¶ä¿®æ”¹, ä¼šå‡ºç°å†²çª, å¯¼è‡´pullå¤±è´¥.   
  
ä½ ä¹‹å‰ç»™ä¸Šæ¸¸æäº¤çš„ä¿®æ”¹ä¼šè¢«åˆå¹¶åˆ°`polardb_11_dev`, æ‰€ä»¥ä¿æŒ`sync polardb_11_dev`å¯ä»¥ä¿è¯æ‹¿åˆ°ä½ ä»¥åŠå…¶ä»–å¼€å‘è€…å¯¹ä¸Šæ¸¸çš„æœ€æ–°è´¡çŒ®.   
  
æ‰€æœ‰äººéƒ½è¿™ä¹ˆåš, åˆ™ä¿è¯äº†ä¸Šæ¸¸`polardb_11_dev`åˆ†æ”¯æ°¸è¿œæ˜¯æœ€æ–°çš„å¼€å‘åˆ†æ”¯.    
  
  
## å®æ“æ¼”ç¤º: è´¡çŒ®polardbæ–‡æ¡£  
ç¯å¢ƒ: macOS   
  
1ã€å‡è®¾ä½ å·²ç»æœ‰githubè´¦å·  
  
å¹¶ä¸”å·²ç»ç­¾ç½²CLA :  
https://cla-assistant.io/ApsaraDB/PolarDB-for-PostgreSQL  
   
æ³¨æ„claç­¾ç½²å, ä¼šæ¯”å¯¹commit logé‡Œé¢çš„emailæ˜¯å¦ä¸å·²ç™»è®°åˆ°ä½ githubé‡Œçš„emailä¸€è‡´, å¦‚æœä¸ä¸€è‡´åˆ™claæ£€æµ‹æ— æ³•é€šè¿‡.  
  
https://help.github.com/articles/why-are-my-commits-linked-to-the-wrong-user/#commits-are-not-linked-to-any-user   
  
digoal zhou seems not to be a GitHub user. You need a GitHub account to be able to sign the CLA. If you have already a GitHub account, please add the email address used for this commit to your account.   
  
You have signed the CLA already but the status is still pending? Let us recheck it.  
  
å…·ä½“æ“ä½œ:   
  
1\.1ã€åœ¨githubç½‘ç«™è¿›è¡Œè®¾ç½®, å°†emailåœ°å€æ·»åŠ åˆ°githubé‚®ä»¶é‡Œé¢.   
  
1\.2ã€åŒæ—¶, ä¿®æ”¹æœ¬åœ°çš„emailä¿¡æ¯, æ¯æ¬¡æäº¤ä¼šä» `~/.gitconfig` è¯»å–.  
  
```  
git config --global user.name "Your Name"   
git config --global user.email "youremail@yourdomain.com"   
  
  
IT-C02YW2EFLVDL:.git digoal$ git config --global user.name "digoal zhou"   
IT-C02YW2EFLVDL:.git digoal$ git config --global user.email "dege.zzz@alibaba-inc.com"   
  
  
IT-C02YW2EFLVDL:.git digoal$ cat ~/.gitconfig   
# This is Git's per-user configuration file.  
[user]  
# Please adapt and uncomment the following lines:  
	name = digoal zhou  
	email = dege.zzz@alibaba-inc.com  
[http]  
	postBuffer = 10485760000  
	lowSpeedLimit = 0  
	lowSpeedTime = 999999  
```  
  
å¦‚æœä½ å·²ç»ä½¿ç”¨äº†æœªç™»è®°åœ¨githubå†…çš„emailè¿›è¡Œäº†commit, å¯ä»¥é€šè¿‡å¦‚ä¸‹æ–¹æ³•ä¿®æ”¹commit log, æ”¹æˆå·²ç™»è®°åˆ°ä½ githubé‡Œçš„email, ç„¶åè¿›è¡Œè¦†ç›–. ä¾‹å¦‚:    
  
```  
git commit --amend --author="digoal zhou <dege.zzz@alibaba-inc.com>"  
git push -f origin 20230130_01  
```  
    
  
  
2ã€å‡è®¾ä½ æœ¬åœ°å·²ç»é…ç½®å¥½äº†github ssh-key for git push    
  
3ã€å‡è®¾ä½ å·²ç»ç™»é™†äº†github  
  
4ã€fork PolarDB-for-PostgreSQL  
  
æ‰“å¼€github: https://github.com/ApsaraDB/PolarDB-for-PostgreSQL  
  
ç‚¹å‡» fork  
- ä¸è¦å‹¾é€‰: `Copy the POLARDB_11_STABLE branch only`  
  
forkåˆ°æˆ‘çš„github, æ–°çš„repoå¦‚ä¸‹:   
  
https://github.com/digoal/PolarDB-for-PostgreSQL  
  
ç„¶åä¿®æ”¹ä¸€ä¸‹é»˜è®¤åˆ†æ”¯ä¸ºPOLARDB_11_DEV, å› ä¸ºåé¢ç»å¸¸è¦è·Ÿä¸Šæ¸¸syncè¿™ä¸ªåˆ†æ”¯. åŒæ—¶ä¹Ÿå¯ä»¥é¿å…ä¸€äº›è¯¯æ“ä½œ.    
- åœ¨ https://github.com/digoal/PolarDB-for-PostgreSQL é¡¹ç›®ä¸­æ‰“å¼€settingsè¿›è¡Œä¿®æ”¹, switch default branch.  
  
5ã€cloneåˆ°æœ¬åœ°   
  
```  
git clone --depth 1 -b POLARDB_11_DEV git@github.com:digoal/PolarDB-for-PostgreSQL.git  
  
å¦‚ä¸‹  
  
IT-C02YW2EFLVDL:~ digoal$ git clone --depth 1 -b POLARDB_11_DEV git@github.com:digoal/PolarDB-for-PostgreSQL.git  
Cloning into 'PolarDB-for-PostgreSQL'...  
Enter passphrase for key '/Users/digoal/.ssh/id_rsa':   
remote: Enumerating objects: 11564, done.  
remote: Counting objects: 100% (11564/11564), done.  
remote: Compressing objects: 100% (7895/7895), done.  
remote: Total 11564 (delta 3531), reused 9781 (delta 3404), pack-reused 0  
Receiving objects: 100% (11564/11564), 82.38 MiB | 6.91 MiB/s, done.  
Resolving deltas: 100% (3531/3531), done.  
Updating files: 100% (11024/11024), done.  
  
IT-C02YW2EFLVDL:~ digoal$ cd PolarDB-for-PostgreSQL/  
IT-C02YW2EFLVDL:PolarDB-for-PostgreSQL digoal$ git branch  
* POLARDB_11_DEV  
```  
  
6ã€sync polardb_11_dev   
  
åœ¨githubç½‘ç«™æ“ä½œ, ç‚¹å‡»`Sync fork`.  https://github.com/digoal/PolarDB-for-PostgreSQL/tree/POLARDB_11_DEV  
  
ç„¶åæœ¬åœ°pullæœ€æ–°ä»£ç    
  
```  
IT-C02YW2EFLVDL:PolarDB-for-PostgreSQL digoal$ git pull origin POLARDB_11_DEV  
Enter passphrase for key '/Users/digoal/.ssh/id_rsa':   
From github.com:digoal/PolarDB-for-PostgreSQL  
 * branch            POLARDB_11_DEV -> FETCH_HEAD  
Already up to date.  
```  
  
7ã€checkout åˆ°æœ¬åœ°æ–°åˆ†æ”¯, åœ¨æ–°åˆ†æ”¯ä¸Šè¿›è¡Œä¿®æ”¹  
  
```  
IT-C02YW2EFLVDL:PolarDB-for-PostgreSQL digoal$ git branch 20230130_01  
IT-C02YW2EFLVDL:PolarDB-for-PostgreSQL digoal$ git branch  
  20230130_01  
* POLARDB_11_DEV  
IT-C02YW2EFLVDL:PolarDB-for-PostgreSQL digoal$ git checkout 20230130_01  
Switched to branch '20230130_01'  
```  
  
æŸ¥çœ‹å½“å‰æ˜¯å¦åˆ‡æ¢åˆ°æ–°åˆ†æ”¯  
  
```  
IT-C02YW2EFLVDL:PolarDB-for-PostgreSQL digoal$ git branch  
* 20230130_01  
  POLARDB_11_DEV  
```  
  
8ã€ä»¥è´¡çŒ®polardb æ–‡æ¡£ä¸ºä¾‹:  
  
è¯¦ç»†å‚è€ƒ:  
  
https://apsaradb.github.io/PolarDB-for-PostgreSQL/zh/contributing/contributing-polardb-docs.html  
  
8\.1ã€å…ˆé…ç½®ä¸€ä¸‹ä¾èµ–ç¯å¢ƒ (é…ç½®ä¸€æ¬¡å°±å¯ä»¥).     
  
é€šè¿‡ curl å®‰è£… Node ç‰ˆæœ¬ç®¡ç†å™¨ nvmã€‚  
  
```  
cd ~  
  
curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.1/install.sh | sudo bash  
```  
  
ç”±äºæˆ‘ä½¿ç”¨çš„æ˜¯bash shell, æ·»åŠ ä¸€ä¸‹ç¯å¢ƒå˜é‡, å¦åˆ™æ‰¾ä¸åˆ°nvmå‘½ä»¤.  
  
```  
vi ~/.bash_profile  
# nvm add  
. $HOME/.profile  
  
. ~/.bash_profile  
IT-C02YW2EFLVDL:~ digoal$ command -v nvm  
nvm  
```  
  
å¦‚æœ nvm å·²ç»è¢«æˆåŠŸå®‰è£…ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤å®‰è£… Node çš„ LTS ç‰ˆæœ¬ï¼š  
  
```  
nvm install --lts  
```  
  
Node.js å®‰è£…å®Œæ¯•åï¼Œä½¿ç”¨å¦‚ä¸‹å‘½ä»¤æ£€æŸ¥å®‰è£…æ˜¯å¦æˆåŠŸï¼š  
  
```  
node -v  
npm -v  
  
å¦‚ä¸‹  
  
IT-C02YW2EFLVDL:~ digoal$ node -v  
v18.13.0  
IT-C02YW2EFLVDL:~ digoal$ npm -v  
8.19.3  
```  
  
ä½¿ç”¨ npm å…¨å±€å®‰è£…è½¯ä»¶åŒ…ç®¡ç†å™¨ yarnï¼š  
  
```  
npm install -g yarn  
yarn -v  
  
å¦‚ä¸‹  
  
IT-C02YW2EFLVDL:~ digoal$ yarn -v  
1.22.19  
```  
  
  
è´¡çŒ®æ–‡æ¡£, éœ€è¦å®‰è£…ä¸€äº›ä¾èµ–:   
  
åœ¨ PolarDB for PostgreSQL å·¥ç¨‹çš„æ ¹ç›®å½•ä¸‹è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œyarn å°†ä¼šæ ¹æ® package.json å®‰è£…æ‰€æœ‰ä¾èµ–ï¼š  
  
æŸ¥çœ‹å½“å‰æ˜¯å¦åˆ‡æ¢åˆ°æ–°åˆ†æ”¯  
  
```  
IT-C02YW2EFLVDL:~ digoal$ cd PolarDB-for-PostgreSQL/  
  
IT-C02YW2EFLVDL:PolarDB-for-PostgreSQL digoal$ git branch  
* 20230130_01  
  POLARDB_11_DEV  
  
  
IT-C02YW2EFLVDL:PolarDB-for-PostgreSQL digoal$ yarn  
  
  
yarn install v1.22.19  
[1/4] ğŸ”  Resolving packages...  
[2/4] ğŸšš  Fetching packages...  
[3/4] ğŸ”—  Linking dependencies...  
warning "@vuepress/plugin-docsearch > @docsearch/react@3.1.1" has unmet peer dependency "@types/react@>= 16.8.0 < 19.0.0".  
warning "@vuepress/plugin-docsearch > @docsearch/react@3.1.1" has unmet peer dependency "react@>= 16.8.0 < 19.0.0".  
warning "@vuepress/plugin-docsearch > @docsearch/react@3.1.1" has unmet peer dependency "react-dom@>= 16.8.0 < 19.0.0".  
warning "@vuepress/plugin-docsearch > @docsearch/react > @algolia/autocomplete-preset-algolia@1.7.1" has unmet peer dependency "@algolia/client-search@^4.9.1".  
warning "vuepress > vuepress-vite@2.0.0-beta.49" has unmet peer dependency "@vuepress/client@^2.0.0-beta.42".  
warning "vuepress > vuepress-vite@2.0.0-beta.49" has unmet peer dependency "vue@^3.2.36".  
[4/4] ğŸ”¨  Building fresh packages...  
âœ¨  Done in 35.31s.  
```  
  
  
è¿è¡Œæ–‡æ¡£å¼€å‘æœåŠ¡å™¨ (å¦‚æœä½ æƒ³é€€å‡º, ctrl+c å¯ä»¥é€€å‡º)  
  
åœ¨ PolarDB for PostgreSQL å·¥ç¨‹çš„æ ¹ç›®å½•ä¸‹è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š  
  
```  
yarn docs:dev  
  
  
IT-C02YW2EFLVDL:PolarDB-for-PostgreSQL digoal$ yarn docs:dev  
yarn run v1.22.19  
$ vuepress dev docs  
info Initializing VuePress and preparing data...  
  
  vite v2.9.14 dev server running at:  
  
  > Local:    http://localhost:8080/PolarDB-for-PostgreSQL/  
  > Network:  http://30.221.96.221:8080/PolarDB-for-PostgreSQL/  
4:35:17â€¯PM [vite] âœ¨ optimized dependencies changed. reloading  
```  
  
æ–‡æ¡£å¼€å‘æœåŠ¡å™¨å°†è¿è¡Œäº http://localhost:8080/PolarDB-for-PostgreSQL/   ï¼Œæ‰“å¼€æµè§ˆå™¨å³å¯è®¿é—®ã€‚å¯¹ Markdown æ–‡ä»¶ä½œå‡ºä¿®æ”¹åï¼Œå¯ä»¥åœ¨ç½‘é¡µä¸Šå®æ—¶æŸ¥çœ‹å˜åŒ–ã€‚  
  
  
8\.2ã€ä¿®æ”¹æˆ–æ–°å¢è´¡çŒ®å†…å®¹  
  
æŸ¥çœ‹å½“å‰æ˜¯å¦åˆ‡æ¢åˆ°æ–°åˆ†æ”¯  
  
```  
IT-C02YW2EFLVDL:PolarDB-for-PostgreSQL digoal$ git branch  
* 20230130_01  
  POLARDB_11_DEV  
```  
  
è¿›å…¥æ–‡æ¡£ç›®å½•, å¹¶æ–°å¢æœ€ä½³å®è·µç›®å½•, æ–°å¢postgiséƒ¨ç½²æ–‡æ¡£.   
  
```  
IT-C02YW2EFLVDL:zh digoal$ pwd  
/Users/digoal/PolarDB-for-PostgreSQL/docs/zh  
  
IT-C02YW2EFLVDL:zh digoal$ mkdir practice  

cd practice
  
vi postgis_deploy.md   
```  
       
æ–‡æ¡£ä½¿ç”¨markdownæ ¼å¼ç¼–å†™, å†…å®¹å¦‚ä¸‹, è¿™é‡Œå°±ä¸åšå±•ç¤ºäº†:    
  
https://raw.githubusercontent.com/digoal/PolarDB-for-PostgreSQL/20230130_01/docs/zh/practice/postgis_deploy.md  
  
  
8\.3ã€æ ¼å¼åŒ–æ–‡æ¡£  
  
ä¿®æ”¹æ–‡æ¡£åï¼Œä½¿ç”¨ Prettier å·¥å…·å¯¹ Markdown æ–‡æ¡£è¿›è¡Œæ ¼å¼åŒ–ï¼š  
ç›´æ¥åœ¨æºç æ ¹ç›®å½•è¿è¡Œï¼š`npx prettier --write docs/`  
  
  
```  
IT-C02YW2EFLVDL:PolarDB-for-PostgreSQL digoal$ pwd  
/Users/digoal/PolarDB-for-PostgreSQL  
IT-C02YW2EFLVDL:PolarDB-for-PostgreSQL digoal$ git branch  
* 20230130_01  
  POLARDB_11_DEV  
IT-C02YW2EFLVDL:PolarDB-for-PostgreSQL digoal$ npx prettier --write docs/  
docs/.vuepress/.cache/deps/_metadata.json 64ms  
docs/.vuepress/.cache/deps/@vue_devtools-api.js 15ms  
...  
docs/zh/theory/buffer-management.md 54ms  
docs/zh/theory/ddl-synchronization.md 35ms  
docs/zh/theory/logindex.md 80ms  
docs/zh/theory/polar-sequence-tech.md 79ms  
```  
  
8\.4ã€  
  
æ–°çš„æ–‡æ¡£å†™å¥½åï¼Œéœ€è¦åœ¨æ–‡æ¡£é…ç½®ä¸­é…ç½®è·¯ç”±ä½¿å…¶åœ¨å¯¼èˆªæ å’Œä¾§è¾¹æ ä¸­æ˜¾ç¤ºï¼ˆå¯å‚è€ƒå…¶ä»–å·²æœ‰æ–‡æ¡£ï¼‰   
  
```  
/Users/digoal/PolarDB-for-PostgreSQL/docs/.vuepress/configs/navbar    
```  
  
å¢åŠ å¯¼èˆª(å› ä¸ºæ²¡æœ‰è‹±æ–‡çš„ç‰ˆæœ¬, æ‰€ä»¥åªéœ€è¦ä¿®æ”¹zh.ts)  
  
```  
  {  
    text: "æœ€ä½³å®è·µ",  
    link: "/zh/practice/",  
    children: [  
      {  
        text: "æ’ä»¶åº”ç”¨",  
        children: [  
          "/zh/practice/postgis_deploy.html",  
        ],  
      },  
    ],  
  },  
```  
  
  
åœ¨æµè§ˆå™¨ä¸­è§‚å¯Ÿä¿®æ”¹æ˜¯å¦æ­£å¸¸:  
  
http://localhost:8080/PolarDB-for-PostgreSQL/zh/  
  
æ­£å¸¸çš„è¯å°±ç»§ç»­ä¸‹ä¸€æ­¥  
  
  
8\.5ã€æäº¤åˆ°forkçš„é¡¹ç›®ä¸­  
  
```  
IT-C02YW2EFLVDL:navbar digoal$ cd ~/PolarDB-for-PostgreSQL  
IT-C02YW2EFLVDL:PolarDB-for-PostgreSQL digoal$   
  
  
IT-C02YW2EFLVDL:PolarDB-for-PostgreSQL digoal$ git add .  
  
  
IT-C02YW2EFLVDL:PolarDB-for-PostgreSQL digoal$ git commit -m 'add a zh document: deploy postgis on polardb'  
  
  
IT-C02YW2EFLVDL:PolarDB-for-PostgreSQL digoal$ git push origin 20230130_01  
Enter passphrase for key '/Users/digoal/.ssh/id_rsa':   
Enumerating objects: 12, done.  
Counting objects: 100% (12/12), done.  
Delta compression using up to 8 threads  
Compressing objects: 100% (7/7), done.  
Writing objects: 100% (7/7), 2.26 KiB | 2.26 MiB/s, done.  
Total 7 (delta 5), reused 0 (delta 0), pack-reused 0  
remote: Resolving deltas: 100% (5/5), completed with 5 local objects.  
remote:   
remote: Create a pull request for '20230130_01' on GitHub by visiting:  
remote:      https://github.com/digoal/PolarDB-for-PostgreSQL/pull/new/20230130_01  
remote:   
To github.com:digoal/PolarDB-for-PostgreSQL.git  
 * [new branch]      20230130_01 -> 20230130_01  
```  
  
  
8\.6ã€å‘èµ·pull request  
  
æ‰“å¼€github  
  
https://github.com/digoal/PolarDB-for-PostgreSQL/pulls  
  
ç‚¹å‡» new pull requests  
  
ä¸Šæ¸¸é€‰ä¸­`POLARDB_11_DEV`åˆ†æ”¯, ä¸‹æ¸¸(ä½ çš„repo)é€‰ä¸­åˆšæ‰ä¿®æ”¹çš„`20230130_01`åˆ†æ”¯.    
  
commenté‡Œé¢å¡«å†™å’Œæœ¬æ¬¡æäº¤ç›¸å…³çš„å†…å®¹.    
  
åœ¨githubä¸­å¯ä»¥çœ‹åˆ°pull requestçš„è¿›å±•  
  
https://github.com/ApsaraDB/PolarDB-for-PostgreSQL/pull/333  
  
å¦‚æœåˆå¹¶æœªé€šè¿‡, æ ¹æ®å»ºè®®è¿›è¡Œä¿®æ”¹, è‡ªå·±çš„ä»“åº“`push`åå†æ¬¡æäº¤`pull`  
   
8\.7ã€æœªæ¥ä½ çš„ä¸´æ—¶åˆ†æ”¯ä¼šè¶Šæ¥è¶Šå¤š, å¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ–¹æ³•åˆ é™¤ä¸€äº›ä¸´æ—¶åˆ†æ”¯:    
- 1ã€åˆ é™¤æœ¬åœ°åˆ†æ”¯ï¼Œä½¿ç”¨ `git branch --delete 20230130_01` æ¥æ‰§è¡Œï¼›  
- 2ã€åˆ é™¤è¿œç¨‹åˆ†æ”¯ï¼Œä½¿ç”¨ `git push origin --delete 20230130_01` æŒ‡ä»¤ï¼›  
  
  
## å‚è€ƒ  
https://www.cnblogs.com/jinqi520/p/10384225.html  
  
https://zhuanlan.zhihu.com/p/347918608  
  
https://apsaradb.github.io/PolarDB-for-PostgreSQL/zh/contributing/contributing-polardb-kernel.html  
  
https://apsaradb.github.io/PolarDB-for-PostgreSQL/zh/contributing/contributing-polardb-docs.html  
  
  
  
#### [æœŸæœ› PostgreSQL|å¼€æºPolarDB å¢åŠ ä»€ä¹ˆåŠŸèƒ½?](https://github.com/digoal/blog/issues/76 "269ac3d1c492e938c0191101c7238216")
  
  
#### [PolarDB äº‘åŸç”Ÿåˆ†å¸ƒå¼å¼€æºæ•°æ®åº“](https://github.com/ApsaraDB "57258f76c37864c6e6d23383d05714ea")
  
  
#### [PolarDB å­¦ä¹ å›¾è°±: è®­ç»ƒè¥ã€åŸ¹è®­è®¤è¯ã€åœ¨çº¿äº’åŠ¨å®éªŒã€è§£å†³æ–¹æ¡ˆã€å†…æ ¸å¼€å‘å…¬å¼€è¯¾ã€ç”Ÿæ€åˆä½œã€å†™å¿ƒå¾—æ‹¿å¥–å“](https://www.aliyun.com/database/openpolardb/activity "8642f60e04ed0c814bf9cb9677976bd4")
  
  
#### [PostgreSQL è§£å†³æ–¹æ¡ˆé›†åˆ](../201706/20170601_02.md "40cff096e9ed7122c512b35d8561d9c8")
  
  
#### [å¾·å“¥ / digoal's github - å…¬ç›Šæ˜¯ä¸€è¾ˆå­çš„äº‹.](https://github.com/digoal/blog/blob/master/README.md "22709685feb7cab07d30f30387f0a9ae")
  
  
![digoal's wechat](../pic/digoal_weixin.jpg "f7ad92eeba24523fd47a6e1a0e691b59")
  
  
#### [è´­ä¹°PolarDBäº‘æœåŠ¡æŠ˜æ‰£æ´»åŠ¨è¿›è¡Œä¸­, 55å…ƒèµ·](https://www.aliyun.com/activity/new/polardb-yunparter?userCode=bsb3t4al "e0495c413bedacabb75ff1e880be465a")
  
  
#### [About å¾·å“¥](https://github.com/digoal/blog/blob/master/me/readme.md "a37735981e7704886ffd590565582dd0")
  
