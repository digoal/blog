## éƒ½æ˜¯è§£æå™¨, æ•°æ®åº“ä¸­ parser å’Œ resolution çš„åŒºåˆ«      
                                                      
### ä½œè€…                                                      
digoal                                                      
                                                      
### æ—¥æœŸ                                                      
2025-10-13                                                     
                                                      
### æ ‡ç­¾                                                      
PostgreSQL , PolarDB , DuckDB , è§£æå™¨ , parser , resolution , è¯­æ³•è§£æå™¨ , åˆç†æ€§ , è¯­ä¹‰è§£æå™¨ , åˆæ³•æ€§                    
                                                      
----                                                      
                                                      
## èƒŒæ™¯    
åœ¨æ•°æ®åº“ç³»ç»Ÿä¸­ï¼Œâ€œparserâ€ å’Œ â€œresolutionâ€ æ˜¯ä¸¤ä¸ªå…³é”®çš„ç¼–è¯‘/æ‰§è¡Œé˜¶æ®µç»„ä»¶ã€‚å®ƒä»¬çš„ä¸­æ–‡è§£é‡Šå¦‚ä¸‹ï¼š

### 1. **Parserï¼ˆè§£æå™¨ï¼‰**

**ä¸­æ–‡åç§°**ï¼š**è¯­æ³•è§£æå™¨** æˆ– **è§£æå™¨**

**ä½œç”¨è§£é‡Š**ï¼š  
Parser è´Ÿè´£å°†ç”¨æˆ·è¾“å…¥çš„ SQL è¯­å¥ï¼ˆå­—ç¬¦ä¸²å½¢å¼ï¼‰**è½¬æ¢æˆæ•°æ®åº“å†…éƒ¨å¯ç†è§£çš„ç»“æ„åŒ–è¡¨ç¤º**ï¼Œé€šå¸¸æ˜¯**è¯­æ³•æ ‘ï¼ˆParse Treeï¼‰æˆ–æŠ½è±¡è¯­æ³•æ ‘ï¼ˆAbstract Syntax Tree, ASTï¼‰**ã€‚

**é€šä¿—ç†è§£**ï¼š  
å°±åƒè¯­æ–‡è€å¸ˆåˆ†æä¸€å¥è¯çš„ä¸»è°“å®¾ä¸€æ ·ï¼ŒParser åˆ†æ SQL è¯­å¥æ˜¯å¦ç¬¦åˆè¯­æ³•è§„åˆ™ï¼ˆæ¯”å¦‚ `SELECT * FROM table` æ˜¯å¦å†™å¯¹äº†ï¼‰ï¼Œå¹¶æŠŠå®ƒæ‹†è§£æˆæ•°æ®åº“èƒ½â€œè¯»æ‡‚â€çš„ç»“æ„ã€‚

**ä¸¾ä¾‹**ï¼š  
è¾“å…¥ SQLï¼š  
```sql
SELECT name FROM users WHERE age > 18;
```
Parser ä¼šæ£€æŸ¥ï¼š
- å…³é”®å­—æ˜¯å¦æ­£ç¡®ï¼ˆ`SELECT`ã€`FROM`ã€`WHERE`ï¼‰
- è¡¨åã€åˆ—åæ˜¯å¦ç¬¦åˆæ ‡è¯†ç¬¦è§„åˆ™
- è¡¨è¾¾å¼ `age > 18` æ˜¯å¦è¯­æ³•åˆæ³•

å¦‚æœè¯­æ³•é”™è¯¯ï¼ˆå¦‚ `SELEC name`ï¼‰ï¼ŒParser ä¼šç›´æ¥æŠ¥é”™ï¼šâ€œè¯­æ³•é”™è¯¯â€ã€‚

### 2. **Resolutionï¼ˆè§£æ / åç§°è§£æ / è¯­ä¹‰è§£æï¼‰**

**ä¸­æ–‡åç§°**ï¼š**åç§°è§£æ**ã€**è¯­ä¹‰è§£æ** æˆ– **ç¬¦å·è§£æ**

**ä½œç”¨è§£é‡Š**ï¼š  
Resolution æ˜¯åœ¨ Parser ä¹‹åçš„é˜¶æ®µï¼Œè´Ÿè´£**å°†è¯­æ³•æ ‘ä¸­çš„é€»è¾‘åç§°ï¼ˆå¦‚è¡¨åã€åˆ—åã€åˆ«åç­‰ï¼‰ç»‘å®šåˆ°å®é™…çš„æ•°æ®åº“å¯¹è±¡**ï¼ˆå¦‚å…·ä½“çš„è¡¨ã€åˆ—ã€æ•°æ®åº“ï¼‰ï¼Œå¹¶è¿›è¡Œ**è¯­ä¹‰åˆæ³•æ€§æ£€æŸ¥**ã€‚

**é€šä¿—ç†è§£**ï¼š  
Parser çœ‹çš„æ˜¯â€œå¥å­ç»“æ„å¯¹ä¸å¯¹â€ï¼Œè€Œ Resolution çœ‹çš„æ˜¯â€œå¥å­é‡Œæåˆ°çš„äººå’Œäº‹åœ¨ç°å®ä¸­æ˜¯å¦å­˜åœ¨â€ã€‚  
æ¯”å¦‚ï¼šâ€œå¼ ä¸‰åœ¨æ¸…åå¤§å­¦è¯»ä¹¦â€â€”â€”è¯­æ³•æ²¡é—®é¢˜ï¼Œä½†å¦‚æœâ€œå¼ ä¸‰â€ä¸å­˜åœ¨ï¼Œæˆ–â€œæ¸…åå¤§å­¦â€æ²¡æœ‰è¿™ä¸ªäººï¼Œå°±è¯­ä¹‰é”™è¯¯ã€‚

**å…·ä½“ä»»åŠ¡åŒ…æ‹¬**ï¼š
- æ£€æŸ¥è¡¨æ˜¯å¦å­˜åœ¨ï¼ˆ`users` è¡¨æ˜¯å¦å­˜åœ¨ï¼Ÿï¼‰
- æ£€æŸ¥åˆ—æ˜¯å¦å­˜åœ¨ï¼ˆ`name` å’Œ `age` æ˜¯å¦æ˜¯ `users` è¡¨çš„åˆ—ï¼Ÿï¼‰
- è§£æåˆ—çš„ç±»å‹ï¼ˆ`age` æ˜¯æ•´æ•°å—ï¼Ÿèƒ½å¦å’Œ 18 æ¯”è¾ƒï¼Ÿï¼‰
- å¤„ç†åˆ«åã€ä½œç”¨åŸŸï¼ˆå¦‚å­æŸ¥è¯¢ä¸­çš„åˆ—åå½’å±ï¼‰
- æƒé™åˆæ­¥æ£€æŸ¥ï¼ˆç”¨æˆ·æ˜¯å¦æœ‰æƒè®¿é—®è¯¥è¡¨ï¼Ÿï¼‰

**ä¸¾ä¾‹**ï¼š  
SQLï¼š  
```sql
SELECT name FROM users WHERE age > 18;
```
Resolution ä¼šæ£€æŸ¥ï¼š
- å½“å‰æ•°æ®åº“ä¸­æ˜¯å¦æœ‰ `users` è¡¨ï¼Ÿ
- `users` è¡¨æ˜¯å¦æœ‰ `name` å’Œ `age` åˆ—ï¼Ÿ
- `age` çš„æ•°æ®ç±»å‹æ˜¯å¦æ”¯æŒä¸æ•´æ•°æ¯”è¾ƒï¼Ÿ

å¦‚æœ `users` è¡¨ä¸å­˜åœ¨ï¼Œå³ä½¿è¯­æ³•æ­£ç¡®ï¼Œä¹Ÿä¼šæŠ¥é”™ï¼šâ€œè¡¨ users ä¸å­˜åœ¨â€ã€‚

### æ€»ç»“å¯¹æ¯”ï¼š

| é˜¶æ®µ        | è‹±æ–‡         | ä¸­æ–‡           | å…³æ³¨ç‚¹               | é”™è¯¯ç¤ºä¾‹                     |
|-------------|--------------|----------------|----------------------|------------------------------|
| **Parser**  | Parser       | è¯­æ³•è§£æå™¨     | SQL è¯­å¥ç»“æ„æ˜¯å¦åˆæ³• | `SELEC * FROM t;` â†’ è¯­æ³•é”™è¯¯ |
| **Resolution** | Resolution | åç§°/è¯­ä¹‰è§£æ  | è¡¨ã€åˆ—ç­‰å¯¹è±¡æ˜¯å¦å­˜åœ¨ | `SELECT x FROM t;`ï¼ˆx åˆ—ä¸å­˜åœ¨ï¼‰â†’ è¯­ä¹‰é”™è¯¯ |

> ğŸ’¡ ç®€å•è®°å¿†ï¼š  
> - **Parser**ï¼š**â€œå†™å¾—å¯¹ä¸å¯¹â€**ï¼ˆè¯­æ³•ï¼‰  
> - **Resolution**ï¼š**â€œä¸œè¥¿æœ‰æ²¡æœ‰â€**ï¼ˆè¯­ä¹‰ï¼‰

è¿™ä¸¤ä¸ªé˜¶æ®µå…±åŒæ„æˆäº† SQL æ‰§è¡Œçš„**å‰ç«¯å¤„ç†ï¼ˆFrontend Processingï¼‰**ï¼Œä¹‹åæ‰ä¼šè¿›å…¥ä¼˜åŒ–ï¼ˆOptimizationï¼‰å’Œæ‰§è¡Œï¼ˆExecutionï¼‰é˜¶æ®µã€‚
     
#### [æœŸæœ› PostgreSQL|å¼€æºPolarDB å¢åŠ ä»€ä¹ˆåŠŸèƒ½?](https://github.com/digoal/blog/issues/76 "269ac3d1c492e938c0191101c7238216")
  
  
#### [PolarDB å¼€æºæ•°æ®åº“](https://openpolardb.com/home "57258f76c37864c6e6d23383d05714ea")
  
  
#### [PolarDB å­¦ä¹ å›¾è°±](https://www.aliyun.com/database/openpolardb/activity "8642f60e04ed0c814bf9cb9677976bd4")
  
  
#### [PostgreSQL è§£å†³æ–¹æ¡ˆé›†åˆ](../201706/20170601_02.md "40cff096e9ed7122c512b35d8561d9c8")
  
  
#### [å¾·å“¥ / digoal's Github - å…¬ç›Šæ˜¯ä¸€è¾ˆå­çš„äº‹.](https://github.com/digoal/blog/blob/master/README.md "22709685feb7cab07d30f30387f0a9ae")
  
  
#### [About å¾·å“¥](https://github.com/digoal/blog/blob/master/me/readme.md "a37735981e7704886ffd590565582dd0")
  
  
![digoal's wechat](../pic/digoal_weixin.jpg "f7ad92eeba24523fd47a6e1a0e691b59")
  
