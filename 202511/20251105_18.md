## 德说-第360期, PG系国产开源数据库大比拼, 到底谁家的开源敢上生产?   
                                                  
### 作者                                                  
digoal                                                  
                                                  
### 日期                                                  
2025-11-05                                                
                                                  
### 标签                                                  
PostgreSQL , 国产数据库 , 国产开源数据库 , 大比拼 , 生产   
                                                  
----                                                  
                                                  
## 背景    
记录一下微信公众号文: https://mp.weixin.qq.com/s/dsJBLf-t7sfo0U_xtjih0A   
  
11.1 号电信天翼云宣布开源TeleDB。跃森出品，产品肯定是能打的。   
  
但是，国产数据库怎么就这么喜欢开源呢？  
  
有没有问过用户到底要不要你开源？  
  
如果没有问过用户，那么为什么要开源？  
  
开源之后怎么办？原厂还会继续投入么迭代么？开源版能上生产么？上了生产遇到问题能白嫖原厂服务不？白嫖的原厂服务能跟得上么？脱离了原厂支持开源能玩得转么？自己玩国产开源投入的精力和买国产商业版到底哪个更划算？  
  
一系列的问题导致绝大多数用户对国产开源数据库处于观望状态。反正不给钱肯定是不敢上生产的。国产开源去搞用户（甭管是免费还是付费用户）这条路是走不通的！能搞到钱的用户首先要给内部商业版让路、搞不到钱的用户又支撑不了团队的持续发展，mysql的例子摆在眼前：MySQL被Oracle抛弃！  
  
那么开源到底是为了什么？养肥友商？还是赚个吆喝？又或者是给技术人员提供一些内卷素材？  
  
**回过头来看基于PG的国产数据库，开源的也不少了，按架构总结了一下。**    
  
1、单机版：  
  
IvorySQL，瀚高开源，主要特点是兼容Oracle。  
  
openTeleDB，主要特点，增加了基于Undo的存储引擎`xStore`，连接池`xProxy`，以及基于raft的内置高可用模块。  
  
openHaloDB，协议及语法层面兼容MySQL.   
  
openGauss，也许不能算PG系了，魔改风格。9.x后就和PG社区彻底分开了。  
  
2、集中式：  
  
PolarDB for PG，基于共享存储，一写多读。  
  
3、分布式：  
  
AntDB，亚信开源，基于PGXC的shared nothing产品。  
  
openTenBase，基于PGXC，跃森在腾讯时出品。  
  
目前已经捐给开放开源原子基金会的有IvorySQL和openTenBase.   
  
## 讨论  
### 还有什漏掉的么？欢迎留言补充（未开源的、以及GP 衍生版本不在讨论范围）！  
  
网友: 我选翰高，对pg社区有反哺。  
  
### 大家对国产开源数据库的看法是什么，用过没用过，都欢迎发表一下意见。  
  
抛砖引玉一下：  
  
1、作者: 个人认为目前已经开源的国产数据库只有一件事是值得去做的，就是和高校教育结合起来。企业也要认清开源就是成本部门，天天精算开源能带来三瓜两枣的商业价值没有意义。	  
  
2、作者: 只有商业和开源版采用同一套代码的开源模式有机会活下来。  
  
作者: 既然无法控制商业回报，那就控制成本，一套代码的好处：开发同步代码投入少，且一次修复同时覆盖商业和开源版。如果真有开源用户的话也能帮助商业版发现bug，提供产品改进需求。此时在开源上的投入回报才能和商业利益挂钩。  
  
作者: 为什么我一再强调要一套代码：一开始就不是“全”开源的产品千万别碰，为什么呢？说明是玩票心态，没想清楚，先开一点出去看看怎么样，投入也自然少，效果么自然也不可能好，已经陷入死循环了，还能期待这种产品未来会大力投入开源？不可能的。  
  
2\.1、网友: 目前的商业公司，开源的社区版只用于吸引潜在客户，深水区的功能在企业版，不可能开放源码。这是目前大多数开源商业公司的玩法  
  
网友: 国内开源更多的是为了商业版引流  
  
作者: 我认为这是伪命题，首先两套代码它的人力投入就很不一般，然后是用户不可能当小白鼠，即使少量用户真的当了小白鼠，遇到问题的支持力度也不能持久，最终小白鼠就会成为负面教材，所以无法持久  
  
3、作者: 哪些国产数据库的开源版可以大胆上生产？我提供2条标准：  
- 1、它的商业版卖的好不好？  
- 2、它的开源版和商业版是不是一套代码？  
- 如果你认为第二条的标准太高了，那放低一点点要求：仅从商业版剥离少量高级特性，其他代码保持近实时同步。  
  
作者: 其他的开源能不碰尽量别碰  
  
作者: 第二条为什么很重要：一开始就不是“全”开源的产品千万别碰，为什么呢？说明是玩票心态，没想清楚，先开一点出去看看怎么样，投入也自然少，效果么自然也不可能好，已经陷入死循环了，还能期待这种产品未来会大力投入开源？不可能的。  
  
3\.1、网友: 能季度性地出版本包、补丁包的才比较可信  
  
3\.2、还想补充一句，2025年这次还没进国测名录的，未来发展空间极有限。  
  
4、网友: 基础软件开源要想成功在国内的市场环境还是很困难的，能白嫖为什么要付费的逻辑始终存在。开源产品这么多，用户更关注是不是开发在持续，开发者社区在运营。对国内公司的管理层来讲，把代码公开出去已经是割肉般痛苦，实际上这个是最简单的一步，真正开源的基础软件是把开发流程，比如功能设计、发布周期，都完全基于开源模式进行运作，比如 doris tidb TDengine ，把商业版阉割一些功能发布出来就叫开源，注定不能成功，“开源”版本间的功能代码都无法合并。  
  
5、网友: 为老东家 AntDB 宣传一下，其实开源出去的版本，不管是功能还是性能，整体上还是不错的。而且，开源出去的版本，集中式和分布式都支持  
  
6、跃森: 一切需要回归到技术本身的意义：解决问题  
  
7、网友: 风口过了，回归理性  
  
  
  
#### [PolarDB 学习图谱](https://www.aliyun.com/database/openpolardb/activity "8642f60e04ed0c814bf9cb9677976bd4")
  
  
#### [PostgreSQL 解决方案集合](../201706/20170601_02.md "40cff096e9ed7122c512b35d8561d9c8")
  
  
#### [德哥 / digoal's Github - 公益是一辈子的事.](https://github.com/digoal/blog/blob/master/README.md "22709685feb7cab07d30f30387f0a9ae")
  
  
#### [About 德哥](https://github.com/digoal/blog/blob/master/me/readme.md "a37735981e7704886ffd590565582dd0")
  
  
![digoal's wechat](../pic/digoal_weixin.jpg "f7ad92eeba24523fd47a6e1a0e691b59")
  
