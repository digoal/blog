<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=gbk">
<title>PostgreSQL research</title>
<style type="text/css">
.blogcnt{line-height:160%;font-size:14px;text-align:left;word-wrap:break-word;}
.blogcnt *{line-height:160%;}
.blogcnt p{margin:0 0 10px;}
.blogcnt ul,.nbw-blog ol{margin:5px 0 5px 40px;padding:0}
.blogcnt em{font-style:italic;}
.blogcnt blockquote{font-size:1em;margin:auto 0 auto 35px;}
.blogcnt img{border:0;max-width:100%;}
</style>
</head>
<body style="color:#444444;">
<h1 id="blog-Title"><a href="index.html">PostgreSQL research</a></h1>
<div id="" style="padding:0 20px;">
	<h2 id="">Grid Control10.2.0.5_x64 密码错误bug</h2>
	<h5 id="">2010-05-11 22:53:59&nbsp;&nbsp;&nbsp;<a href="http://blog.163.com/digoal@126/blog/static/1638770402010411105359132/" target="_blank">查看原文&gt;&gt;</a></h5>
	<div class="" id="" style="padding:0 20px;">
		<div class="blogcnt" style="width:800px;"><P style="TEXT-INDENT: 2em;"  >环境:</P>  <P style="TEXT-INDENT: 2em;"  >RHEL5.5_x64</P>  <P style="TEXT-INDENT: 2em;"  >Grid Control 10.2.0.5</P>  <P style="TEXT-INDENT: 2em;"  >安装方式是silent install 10.2.0.3+noconfig+patch to 10.2.0.5</P>  <P style="TEXT-INDENT: 2em;"  >之前在5.4上装没有遇到这个问题。标记一下。</P>  <P style="TEXT-INDENT: 2em;"  >具体的解决办法非常简单，把repo数据库的sys,system用户密码改成default</P>  <P style="TEXT-INDENT: 2em;"  >然后opmnctl stopall</P>  <P style="TEXT-INDENT: 2em;"  >重新配置即可。</P>  <P style="TEXT-INDENT: 2em;"  >&nbsp;</P>  <P style="TEXT-INDENT: 2em;"  >&nbsp;网上找来的解决办法，如下：</P>  <P style="TEXT-INDENT: 2em;"  >ConfigureGC.pl Reports C Invalid Username/Password.</P>  <P style="TEXT-INDENT: 2em;"  >Metalink Doc ID:&nbsp;602750.1</P>  <P style="TEXT-INDENT: 2em;"  >Bug:&nbsp;7137054</P>  <P style="TEXT-INDENT: 2em;"  >Within 5 C 10 minutes of running the&nbsp;<TT>ConfigureGC.pl</TT>&nbsp;script, it will eventually issue a failure message indicating to look in the<TT>$ORACLE_HOME/cfgtoollogs/oui/configActions&lt;LATEST_TIME_STAMP&gt;.log</TT>&nbsp;log file for errors. Don’t bother. The only message written to this log is utterly useless:</P>  <P style="TEXT-INDENT: 2em;"  >The plug-in OMS Configuration has failed its perform method</P>  <P style="TEXT-INDENT: 2em;"  >The two files listed below, on the other hand, will both show the Oracle error code&nbsp;<TT>ORA-01017</TT>:</P>  <P style="TEXT-INDENT: 2em;"  >$ORACLE_HOME/cfgtoollogs/cfgfw/CfmLogger_&lt;LATEST_TIME_STAMP&gt;.log$ORACLE_HOME/cfgtoollogs/cfgfw/emca_repos_drop&lt;LATEST_TIME_STAMP&gt;_OUT.log</P>  <P style="TEXT-INDENT: 2em;"  >For example:</P>  <P style="TEXT-INDENT: 2em;"  >Getting temporary tablespace from database...Could not connect to SYS/(DESCRIPTION=(ADDRESS_LIST=(ADDRESS=(PROTOCOL=TCP)(HOST=oemprod.idevelopment.info)(PORT=1521)))(CONNECT_DATA=(SID=emrep))):ORA-01017: invalid username/password; logon denied (DBD ERROR: OCISessionBegin)</P>  <P style="TEXT-INDENT: 2em;"  >Solution</P>  <P style="TEXT-INDENT: 2em;"  >To work around this bug, log in to the management repository as either SYS or SYSTEM to change the SYS password to&nbsp;<TT>"default"</TT>:</P>  <P style="TEXT-INDENT: 2em;"  >[oracle@oemprod ~]$ sqlplus sys/emgc10g@emrep as sysdbaSQL&gt; alter user sys identified by "default";</P>  <P style="TEXT-INDENT: 2em;"  >After changing the SYS password to&nbsp;<TT>"default"</TT>, run the&nbsp;<TT>ConfigureGC.pl</TT>again using same syntax. The configuration will pick up where it left off, so repository configuration will be successful, the base OMS configuration will complete, the management agent configuration will complete and the patch set configuration actions will start.</P>  <P style="TEXT-INDENT: 2em;"  >[oracle@oemprod ~]$ $ORACLE_HOME/perl/bin/perl \$ORACLE_HOME/sysman/install/ConfigureGC.pl /u01/app/oracle/product</P>  <P style="TEXT-INDENT: 2em;"  >Second Failure</P>  <P style="TEXT-INDENT: 2em;"  >So, you thought you seen the last of Oracle Bug 7137054? Not quite. The configuration will fail yet again and indicate to look in the new<TT>$ORACLE_HOME/cfgtoollogs/oui/configActions&lt;LATEST_TIME_STAMP&gt;.log</TT>&nbsp;log file for errors. This log file is just as useless as it was the first time. Further examining the<TT>$ORACLE_HOME/cfgtoollogs/cfgfw/CfmLogger_&lt;LATEST_TIME_STAMP&gt;.log</TT>&nbsp;will show the same&nbsp;<TT>ORA-01017</TT>&nbsp;error.</P>  <P style="TEXT-INDENT: 2em;"  >To work around this second error, log in to the management repository database (again) to change the SYS password back to its original value configured in the&nbsp;<A rel="nofollow" href="http://dba.sky-mobi.com/wp-admin/post-new.php#em_using_existing_db.rsp Response File Values"  ><TT>em_using_existing_db.rsp</TT></A>&nbsp;response file:</P>  <P style="TEXT-INDENT: 2em;"  >[oracle@oemprod ~]$ sqlplus sys/default@emrep as sysdbaSQL&gt; alter user sys identified by emgc10g;</P>  <P style="TEXT-INDENT: 2em;"  >Run the configuration script for a third time, repeating the same syntax as before:</P>  <P style="TEXT-INDENT: 2em;"  >[oracle@oemprod ~]$ $ORACLE_HOME/perl/bin/perl \$ORACLE_HOME/sysman/install/ConfigureGC.pl /u01/app/oracle/product</P></div>
	</div>
</div>
</body>
</html>