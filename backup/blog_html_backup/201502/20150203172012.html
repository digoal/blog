<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=gbk">
<title>PostgreSQL research</title>
<style type="text/css">
.blogcnt{line-height:160%;font-size:14px;text-align:left;word-wrap:break-word;}
.blogcnt *{line-height:160%;}
.blogcnt p{margin:0 0 10px;}
.blogcnt ul,.nbw-blog ol{margin:5px 0 5px 40px;padding:0}
.blogcnt em{font-style:italic;}
.blogcnt blockquote{font-size:1em;margin:auto 0 auto 35px;}
.blogcnt img{border:0;max-width:100%;}
</style>
</head>
<body style="color:#444444;">
<h1 id="blog-Title"><a href="index.html">PostgreSQL research</a></h1>
<div id="" style="padding:0 20px;">
	<h2 id="">python $variable substitute in string using string Template module</h2>
	<h5 id="">2015-02-03 17:20:12&nbsp;&nbsp;&nbsp;<a href="http://blog.163.com/digoal@126/blog/static/1638770402015135926556/" target="_blank">查看原文&gt;&gt;</a></h5>
	<div class="" id="" style="padding:0 20px;">
		<div class="blogcnt" style="width:800px;"><div>Template(string)用于构造一个实例, 这个实例中的$var 可以被Template的substitute()或safe_substitute()方法来替换.</div><div>用法举例 :&nbsp;</div><div><pre class="prettyprint"   ><p></p><div><div><font size="2"   >&gt;&gt;&gt; from string import Template &nbsp; &nbsp;#&nbsp;<span style="line-height: 28px;"   >导入模板</span></font></div><div><font size="2"   >&gt;&gt;&gt; s = Template("hello, I am ${first_name}.${last_name}") &nbsp;# 构造一个实例</font></div><div><font size="2"   >&gt;&gt;&gt; s.substitute(first_name="zhou", last_name="digoal") &nbsp;# 替换变量, 返回替换后的字符串</font></div><div><font size="2"   >'hello, I am zhou.digoal'</font></div></div><div><font size="2"   ><br></font></div><div><div><font size="2"   >&gt;&gt;&gt; d=dict() &nbsp;# 使用字典来替换变量.</font></div><div><font size="2"   >&gt;&gt;&gt; d['first_name']="zhou"</font></div><div><div><font size="2"   >&gt;&gt;&gt; s.substitute(d) &nbsp;# 注意使用substitute替换的话, 所有的变量必须都被替换.</font></div><div><font size="2"   >Traceback (most recent call last):</font></div><div><font size="2"   >&nbsp; File "&lt;stdin&gt;", line 1, in &lt;module&gt;</font></div><div><font size="2"   >&nbsp; File "/usr/local/lib/python3.4/string.py", line 121, in substitute</font></div><div><font size="2"   >&nbsp; &nbsp; return self.pattern.sub(convert, self.template)</font></div><div><font size="2"   >&nbsp; File "/usr/local/lib/python3.4/string.py", line 111, in convert</font></div><div><font size="2"   >&nbsp; &nbsp; val = mapping[named]</font></div><div><font size="2"   >KeyError: 'last_name'</font></div></div><div><font size="2"   ><br></font></div><div><font size="2"   >&gt;&gt;&gt; s.safe_substitute(d) &nbsp; &nbsp;# &nbsp;使用safe_substitute来替换的话, 可以只替换部分或全部或全否变量.</font></div><div><font size="2"   >'hello, I am zhou.${last_name}'</font></div></div><div><font size="2"   ><br></font></div><div><div><font size="2"   >&gt;&gt;&gt; a=dict()</font></div><div><font size="2"   >&gt;&gt;&gt; s.safe_substitute(a)</font></div><div><font size="2"   >'hello, I am ${first_name}.${last_name}'</font></div></div><div><font size="2"   ><br></font></div><div><font size="2"   >&gt;&gt;&gt; s = Template("hello, I am ${first_name}.${123}") &nbsp;# 变量名必须使用合法的变量名, 字母开头. 不能是数字开头.</font></div><div><div><font size="2"   >&gt;&gt;&gt; s.safe_substitute(d)</font></div><div><font size="2"   >'hello, I am zhou.${123}'</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >&gt;&gt;&gt; d['123']="digoal"</font></div><div><font size="2"   >&gt;&gt;&gt; s.safe_substitute(d)</font></div><div><font size="2"   >'hello, I am zhou.${123}'</font></div><div><font size="2"   ><br></font></div><div><font size="2"   >&gt;&gt;&gt; s.substitute(d) &nbsp;# 数字开头的变量被替换时会报错</font></div><div><font size="2"   >Traceback (most recent call last):</font></div><div><font size="2"   >&nbsp; File "&lt;stdin&gt;", line 1, in &lt;module&gt;</font></div><div><font size="2"   >&nbsp; File "/usr/local/lib/python3.4/string.py", line 121, in substitute</font></div><div><font size="2"   >&nbsp; &nbsp; return self.pattern.sub(convert, self.template)</font></div><div><font size="2"   >&nbsp; File "/usr/local/lib/python3.4/string.py", line 118, in convert</font></div><div><font size="2"   >&nbsp; &nbsp; self._invalid(mo)</font></div><div><font size="2"   >&nbsp; File "/usr/local/lib/python3.4/string.py", line 95, in _invalid</font></div><div><font size="2"   >&nbsp; &nbsp; (lineno, colno))</font></div><div><font size="2"   >ValueError: Invalid placeholder in string: line 1, col 27</font></div></div><div><font size="2"   ><br></font></div><div><div><font size="2"   >&gt;&gt;&gt; s = Template("hello, I am ${first_name}.${last_name}") &nbsp;# &nbsp;更换为合法的变量名后, 正常</font></div><div><font size="2"   >&gt;&gt;&gt; d['last_name']="digoal"</font></div><div><font size="2"   >&gt;&gt;&gt; s.substitute(d)</font></div><div><font size="2"   >'hello, I am zhou.digoal'</font></div><div><font size="2"   >&gt;&gt;&gt; s.safe_substitute(d)</font></div><div><font size="2"   >'hello, I am zhou.digoal'</font></div></div><p></p></pre></div><div><br></div>[参考]<wbr><div>1.&nbsp;<a style="line-height: 28px;" target="_blank" rel="nofollow" href="https://docs.python.org/3/library/string.html"   >https://docs.python.org/3/library/string.html</a></div><div><h2 style="font-family: 'Lucida Grande', Arial, sans-serif; font-weight: normal; color: rgb(26, 26, 26); border: 0px; margin: 0px; padding: 0.3em 0px; font-size: 25.6000003814697px; line-height: normal;"   >6.1.4. Template strings<a title="Permalink to this headline" style="color: rgb(99, 99, 187); text-decoration: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;" rel="nofollow" href="https://docs.python.org/3/library/string.html#template-strings"   ></a></h2><p style="text-align: justify; line-height: 22.3999996185303px; color: rgb(34, 34, 34); font-family: 'Lucida Grande', Arial, sans-serif;"   >Templates provide simpler string substitutions as described in&nbsp;<span id="index-3"   ></span><a style="color: rgb(99, 99, 187); text-decoration: none;" rel="nofollow" href="http://www.python.org/dev/peps/pep-0292"   ><strong>PEP 292</strong></a>. Instead of the normal&nbsp;<tt style="padding: 0px 1px; font-size: 15.4399995803833px; font-family: monospace, sans-serif; border-radius: 3px; background-color: rgb(236, 240, 243);"   ><span>%</span></tt>-based substitutions, Templates support&nbsp;<tt style="padding: 0px 1px; font-size: 15.4399995803833px; font-family: monospace, sans-serif; border-radius: 3px; background-color: rgb(236, 240, 243);"   ><span>$</span></tt>-based substitutions, using the following rules:</p><ul style="color: rgb(34, 34, 34); font-family: 'Lucida Grande', Arial, sans-serif; line-height: normal;"   ><li style="text-align: justify; line-height: 20.7999992370605px;"   ><tt style="padding: 0px 1px; font-size: 15.4399995803833px; font-family: monospace, sans-serif; border-radius: 3px; background-color: rgb(236, 240, 243);"   ><span>$$</span></tt>&nbsp;is an escape; it is replaced with a single&nbsp;<tt style="padding: 0px 1px; font-size: 15.4399995803833px; font-family: monospace, sans-serif; border-radius: 3px; background-color: rgb(236, 240, 243);"   ><span>$</span></tt>.</li><li style="text-align: justify; line-height: 20.7999992370605px;"   ><tt style="padding: 0px 1px; font-size: 15.4399995803833px; font-family: monospace, sans-serif; border-radius: 3px; background-color: rgb(236, 240, 243);"   ><span>$identifier</span></tt>&nbsp;names a substitution placeholder matching a mapping key of&nbsp;<tt style="padding: 0px 1px; font-size: 15.4399995803833px; font-family: monospace, sans-serif; border-radius: 3px; background-color: rgb(236, 240, 243);"   ><span>"identifier"</span></tt>. By default,&nbsp;<tt style="padding: 0px 1px; font-size: 15.4399995803833px; font-family: monospace, sans-serif; border-radius: 3px; background-color: rgb(236, 240, 243);"   ><span>"identifier"</span></tt>&nbsp;must spell a Python identifier. The first non-identifier character after the&nbsp;<tt style="padding: 0px 1px; font-size: 15.4399995803833px; font-family: monospace, sans-serif; border-radius: 3px; background-color: rgb(236, 240, 243);"   ><span>$</span></tt>&nbsp;character terminates this placeholder specification.</li><li style="text-align: justify; line-height: 20.7999992370605px;"   ><tt style="padding: 0px 1px; font-size: 15.4399995803833px; font-family: monospace, sans-serif; border-radius: 3px; background-color: rgb(236, 240, 243);"   ><span>${identifier}</span></tt>&nbsp;is equivalent to&nbsp;<tt style="padding: 0px 1px; font-size: 15.4399995803833px; font-family: monospace, sans-serif; border-radius: 3px; background-color: rgb(236, 240, 243);"   ><span>$identifier</span></tt>. It is required when valid identifier characters follow the placeholder but are not part of the placeholder, such as&nbsp;<tt style="padding: 0px 1px; font-size: 15.4399995803833px; font-family: monospace, sans-serif; border-radius: 3px; background-color: rgb(236, 240, 243);"   ><span>"${noun}ification"</span></tt>.</li></ul><p style="text-align: justify; line-height: 22.3999996185303px; color: rgb(34, 34, 34); font-family: 'Lucida Grande', Arial, sans-serif;"   >Any other appearance of&nbsp;<tt style="padding: 0px 1px; font-size: 15.4399995803833px; font-family: monospace, sans-serif; border-radius: 3px; background-color: rgb(236, 240, 243);"   ><span>$</span></tt>&nbsp;in the string will result in a&nbsp;<a title="ValueError" style="color: rgb(99, 99, 187); text-decoration: none;" rel="nofollow" href="https://docs.python.org/3/library/exceptions.html#ValueError"   ><tt style="padding: 0px 1px; font-size: 15.4399995803833px; font-family: monospace, sans-serif; border-radius: 3px; background-color: transparent;"   ><span>ValueError</span></tt></a>&nbsp;being raised.</p><p style="text-align: justify; line-height: 22.3999996185303px; color: rgb(34, 34, 34); font-family: 'Lucida Grande', Arial, sans-serif;"   >The&nbsp;<a title="string: Common string operations." style="color: rgb(99, 99, 187); text-decoration: none;" rel="nofollow" href="https://docs.python.org/3/library/string.html#module-string"   ><tt style="padding: 0px 1px; font-size: 15.4399995803833px; font-family: monospace, sans-serif; border-radius: 3px; background-color: transparent;"   ><span>string</span></tt></a>&nbsp;module provides a&nbsp;<a title="string.Template" style="color: rgb(99, 99, 187); text-decoration: none;" rel="nofollow" href="https://docs.python.org/3/library/string.html#string.Template"   ><tt style="padding: 0px 1px; font-size: 15.4399995803833px; font-family: monospace, sans-serif; border-radius: 3px; background-color: transparent;"   ><span>Template</span></tt></a>&nbsp;class that implements these rules. The methods of&nbsp;<a title="string.Template" style="color: rgb(99, 99, 187); text-decoration: none;" rel="nofollow" href="https://docs.python.org/3/library/string.html#string.Template"   ><tt style="padding: 0px 1px; font-size: 15.4399995803833px; font-family: monospace, sans-serif; border-radius: 3px; background-color: transparent;"   ><span>Template</span></tt></a>&nbsp;are:</p><dl style="margin-bottom: 15px; color: rgb(34, 34, 34); font-family: 'Lucida Grande', Arial, sans-serif; line-height: normal;"   ><dt id="string.Template"   ><em>class&nbsp;</em><tt style="padding: 0px 1px; font-size: 15.4399995803833px; font-family: monospace, sans-serif; border-radius: 3px; background-color: transparent;"   >string.</tt><tt style="padding: 0px 1px; font-size: 19.2000007629395px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px; background-color: transparent;"   >Template</tt><big>(</big><em>template</em><big>)</big><a title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;" rel="nofollow" href="https://docs.python.org/3/library/string.html#string.Template"   ></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; text-align: justify; line-height: 20.7999992370605px;"   ><p style="margin-top: 0px; line-height: 22.3999996185303px;"   >The constructor takes a single argument which is the template string.</p><dl style="margin-bottom: 15px;"   ><dt id="string.Template.substitute"   ><tt style="padding: 0px 1px; font-size: 19.2000007629395px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px; background-color: transparent;"   >substitute</tt><big>(</big><em>mapping</em>,&nbsp;<em>**kwds</em><big>)</big><a title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;" rel="nofollow" href="https://docs.python.org/3/library/string.html#string.Template.substitute"   ></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; line-height: 20.7999992370605px;"   ><p style="margin-top: 0px; line-height: 22.3999996185303px;"   >Performs the template substitution, returning a new string.&nbsp;<em>mapping</em>&nbsp;is any dictionary-like object with keys that match the placeholders in the template. Alternatively, you can provide keyword arguments, where the keywords are the placeholders. When both&nbsp;<em>mapping</em>&nbsp;and&nbsp;<em>kwds</em>&nbsp;are given and there are duplicates, the placeholders from&nbsp;<em>kwds</em>&nbsp;take precedence.</p></dd></dl><dl style="margin-bottom: 15px;"   ><dt id="string.Template.safe_substitute"   ><tt style="padding: 0px 1px; font-size: 19.2000007629395px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px; background-color: transparent;"   >safe_substitute</tt><big>(</big><em>mapping</em>,&nbsp;<em>**kwds</em><big>)</big><a title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;" rel="nofollow" href="https://docs.python.org/3/library/string.html#string.Template.safe_substitute"   ></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; line-height: 20.7999992370605px;"   ><p style="margin-top: 0px; line-height: 22.3999996185303px;"   >Like&nbsp;<a title="string.Template.substitute" style="color: rgb(99, 99, 187); text-decoration: none;" rel="nofollow" href="https://docs.python.org/3/library/string.html#string.Template.substitute"   ><tt style="padding: 0px 1px; font-size: 15.4399995803833px; font-family: monospace, sans-serif; border-radius: 3px; background-color: transparent;"   ><span>substitute()</span></tt></a>, except that if placeholders are missing from&nbsp;<em>mapping</em>&nbsp;and&nbsp;<em>kwds</em>, instead of raising a&nbsp;<a title="KeyError" style="color: rgb(99, 99, 187); text-decoration: none;" rel="nofollow" href="https://docs.python.org/3/library/exceptions.html#KeyError"   ><tt style="padding: 0px 1px; font-size: 15.4399995803833px; font-family: monospace, sans-serif; border-radius: 3px; background-color: transparent;"   ><span>KeyError</span></tt></a>&nbsp;exception, the original placeholder will appear in the resulting string intact. Also, unlike with&nbsp;<a title="string.Template.substitute" style="color: rgb(99, 99, 187); text-decoration: none;" rel="nofollow" href="https://docs.python.org/3/library/string.html#string.Template.substitute"   ><tt style="padding: 0px 1px; font-size: 15.4399995803833px; font-family: monospace, sans-serif; border-radius: 3px; background-color: transparent;"   ><span>substitute()</span></tt></a>, any other appearances of the&nbsp;<tt style="padding: 0px 1px; font-size: 15.4399995803833px; font-family: monospace, sans-serif; border-radius: 3px; background-color: rgb(236, 240, 243);"   ><span>$</span></tt>&nbsp;will simply return&nbsp;<tt style="padding: 0px 1px; font-size: 15.4399995803833px; font-family: monospace, sans-serif; border-radius: 3px; background-color: rgb(236, 240, 243);"   ><span>$</span></tt>&nbsp;instead of raising&nbsp;<a title="ValueError" style="color: rgb(99, 99, 187); text-decoration: none;" rel="nofollow" href="https://docs.python.org/3/library/exceptions.html#ValueError"   ><tt style="padding: 0px 1px; font-size: 15.4399995803833px; font-family: monospace, sans-serif; border-radius: 3px; background-color: transparent;"   ><span>ValueError</span></tt></a>.</p><p style="margin-top: 0px; line-height: 22.3999996185303px;"   >While other exceptions may still occur, this method is called “safe” because substitutions always tries to return a usable string instead of raising an exception. In another sense,&nbsp;<a title="string.Template.safe_substitute" style="color: rgb(99, 99, 187); text-decoration: none;" rel="nofollow" href="https://docs.python.org/3/library/string.html#string.Template.safe_substitute"   ><tt style="padding: 0px 1px; font-size: 15.4399995803833px; font-family: monospace, sans-serif; border-radius: 3px; background-color: transparent;"   ><span>safe_substitute()</span></tt></a>&nbsp;may be anything other than safe, since it will silently ignore malformed templates containing dangling delimiters, unmatched braces, or placeholders that are not valid Python identifiers.</p></dd></dl><p style="margin-top: 0px; line-height: 22.3999996185303px;"   ><a title="string.Template" style="color: rgb(99, 99, 187); text-decoration: none;" rel="nofollow" href="https://docs.python.org/3/library/string.html#string.Template"   ><tt style="padding: 0px 1px; font-size: 15.4399995803833px; font-family: monospace, sans-serif; border-radius: 3px; background-color: transparent;"   ><span>Template</span></tt></a>&nbsp;instances also provide one public data attribute:</p><dl style="margin-bottom: 15px;"   ><dt id="string.Template.template"   ><tt style="padding: 0px 1px; font-size: 19.2000007629395px; font-family: monospace, sans-serif; font-weight: bold; border-radius: 3px; background-color: transparent;"   >template</tt><a title="Permalink to this definition" style="color: rgb(99, 99, 187); text-decoration: none; visibility: hidden; font-size: 0.8em; padding: 0px 4px;" rel="nofollow" href="https://docs.python.org/3/library/string.html#string.Template.template"   ></a></dt><dd style="margin-top: 3px; margin-bottom: 10px; margin-left: 30px; line-height: 20.7999992370605px;"   ><p style="margin-top: 0px; line-height: 22.3999996185303px;"   >This is the object passed to the constructor’s&nbsp;<em>template</em>&nbsp;argument. In general, you shouldn’t change it, but read-only access is not enforced.</p></dd></dl></dd></dl><p style="text-align: justify; line-height: 22.3999996185303px; color: rgb(34, 34, 34); font-family: 'Lucida Grande', Arial, sans-serif;"   >Here is an example of how to use a Template:</p><div style="color: rgb(34, 34, 34); font-family: 'Lucida Grande', Arial, sans-serif; line-height: normal;position:inherit;"   ><div style="background: rgb(238, 255, 204);"   ><span title="Hide the prompts and output"   style="cursor: pointer;position:inherit; top: 0px; right: 0px; border: 1px solid rgb(170, 204, 153); color: rgb(170, 204, 153); font-family: monospace; padding-left: 0.2em; padding-right: 0.2em; border-radius: 0px 3px 0px 0px;"   >&gt;&gt;&gt;</span><pre style="overflow-x: auto; overflow-y: hidden; padding: 5px; color: rgb(51, 51, 51); line-height: 18.5279998779297px; border: 1px solid rgb(170, 204, 153); font-family: monospace, sans-serif; font-size: 15.4399995803833px; border-radius: 3px;"   ><span style="color: rgb(198, 93, 9); font-weight: bold;"   >&gt;&gt;&gt; </span><span style="color: rgb(0, 112, 32); font-weight: bold;"   >from</span> <span style="color: rgb(14, 132, 181); font-weight: bold;"   >string</span> <span style="color: rgb(0, 112, 32); font-weight: bold;"   >import</span> <span>Template</span>
<span style="color: rgb(198, 93, 9); font-weight: bold;"   >&gt;&gt;&gt; </span><span>s</span> <span style="color: rgb(102, 102, 102);"   >=</span> <span>Template</span><span>(</span><span style="color: rgb(64, 112, 160);"   >'$who likes $what'</span><span>)</span>
<span style="color: rgb(198, 93, 9); font-weight: bold;"   >&gt;&gt;&gt; </span><span>s</span><span style="color: rgb(102, 102, 102);"   >.</span><span>substitute</span><span>(</span><span>who</span><span style="color: rgb(102, 102, 102);"   >=</span><span style="color: rgb(64, 112, 160);"   >'tim'</span><span>,</span> <span>what</span><span style="color: rgb(102, 102, 102);"   >=</span><span style="color: rgb(64, 112, 160);"   >'kung pao'</span><span>)</span>
<span>'tim likes kung pao'</span>
<span style="color: rgb(198, 93, 9); font-weight: bold;"   >&gt;&gt;&gt; </span><span>d</span> <span style="color: rgb(102, 102, 102);"   >=</span> <span style="color: rgb(0, 112, 32);"   >dict</span><span>(</span><span>who</span><span style="color: rgb(102, 102, 102);"   >=</span><span style="color: rgb(64, 112, 160);"   >'tim'</span><span>)</span>
<span style="color: rgb(198, 93, 9); font-weight: bold;"   >&gt;&gt;&gt; </span><span>Template</span><span>(</span><span style="color: rgb(64, 112, 160);"   >'Give $who $100'</span><span>)</span><span style="color: rgb(102, 102, 102);"   >.</span><span>substitute</span><span>(</span><span>d</span><span>)</span>
<span style="color: rgb(0, 68, 221);"   >Traceback (most recent call last):</span>
<span style="color: rgb(64, 128, 144); font-style: italic;"   >...</span>
<span style="color: rgb(255, 0, 0);"   >ValueError</span>: <span>Invalid placeholder in string: line 1, col 11</span>
<span style="color: rgb(198, 93, 9); font-weight: bold;"   >&gt;&gt;&gt; </span><span>Template</span><span>(</span><span style="color: rgb(64, 112, 160);"   >'$who likes $what'</span><span>)</span><span style="color: rgb(102, 102, 102);"   >.</span><span>substitute</span><span>(</span><span>d</span><span>)</span>
<span style="color: rgb(0, 68, 221);"   >Traceback (most recent call last):</span>
<span style="color: rgb(64, 128, 144); font-style: italic;"   >...</span>
<span style="color: rgb(255, 0, 0);"   >KeyError</span>: <span>'what'</span>
<span style="color: rgb(198, 93, 9); font-weight: bold;"   >&gt;&gt;&gt; </span><span>Template</span><span>(</span><span style="color: rgb(64, 112, 160);"   >'$who likes $what'</span><span>)</span><span style="color: rgb(102, 102, 102);"   >.</span><span>safe_substitute</span><span>(</span><span>d</span><span>)</span>
<span>'tim likes $what'</span>
</pre></div></div><p style="text-align: justify; line-height: 22.3999996185303px; color: rgb(34, 34, 34); font-family: 'Lucida Grande', Arial, sans-serif;"   >Advanced usage: you can derive subclasses of&nbsp;<a title="string.Template" style="color: rgb(99, 99, 187); text-decoration: none;" rel="nofollow" href="https://docs.python.org/3/library/string.html#string.Template"   ><tt style="padding: 0px 1px; font-size: 15.4399995803833px; font-family: monospace, sans-serif; border-radius: 3px; background-color: transparent;"   ><span>Template</span></tt></a>&nbsp;to customize the placeholder syntax, delimiter character, or the entire regular expression used to parse template strings. To do this, you can override these class attributes:</p><ul style="color: rgb(34, 34, 34); font-family: 'Lucida Grande', Arial, sans-serif; line-height: normal;"   ><li style="text-align: justify; line-height: 20.7999992370605px;"   ><p style="line-height: 22.3999996185303px; margin-top: 0px !important;"   ><em>delimiter</em>&nbsp;C This is the literal string describing a placeholder introducing delimiter. The default value is&nbsp;<tt style="padding: 0px 1px; font-size: 15.4399995803833px; font-family: monospace, sans-serif; border-radius: 3px; background-color: rgb(236, 240, 243);"   ><span>$</span></tt>. Note that this should&nbsp;<em>not</em>&nbsp;be a regular expression, as the implementation will call&nbsp;<a title="re.escape" style="color: rgb(99, 99, 187); text-decoration: none;" rel="nofollow" href="https://docs.python.org/3/library/re.html#re.escape"   ><tt style="padding: 0px 1px; font-size: 15.4399995803833px; font-family: monospace, sans-serif; border-radius: 3px; background-color: transparent;"   ><span>re.escape()</span></tt></a>&nbsp;on this string as needed.</p></li><li style="text-align: justify; line-height: 20.7999992370605px;"   ><p style="line-height: 22.3999996185303px; margin-top: 0px !important;"   ><em>idpattern</em>&nbsp;C This is the regular expression describing the pattern for non-braced placeholders (the braces will be added automatically as appropriate). The default value is the regular expression&nbsp;<tt style="padding: 0px 1px; font-size: 15.4399995803833px; font-family: monospace, sans-serif; border-radius: 3px; background-color: rgb(236, 240, 243);"   ><span>[_a-z][_a-z0-9]*</span></tt>.</p></li><li style="text-align: justify; line-height: 20.7999992370605px;"   ><p style="line-height: 22.3999996185303px; margin-top: 0px !important;"   ><em>flags</em>&nbsp;C The regular expression flags that will be applied when compiling the regular expression used for recognizing substitutions. The default value is<tt style="padding: 0px 1px; font-size: 15.4399995803833px; font-family: monospace, sans-serif; border-radius: 3px; background-color: rgb(236, 240, 243);"   ><span>re.IGNORECASE</span></tt>. Note that&nbsp;<tt style="padding: 0px 1px; font-size: 15.4399995803833px; font-family: monospace, sans-serif; border-radius: 3px; background-color: rgb(236, 240, 243);"   ><span>re.VERBOSE</span></tt>&nbsp;will always be added to the flags, so custom&nbsp;<em>idpattern</em>s must follow conventions for verbose regular expressions.</p><div><p style="line-height: 22.3999996185303px;"   ><span style="font-style: italic;"   >New in version 3.2.</span></p></div></li></ul><p style="text-align: justify; line-height: 22.3999996185303px; color: rgb(34, 34, 34); font-family: 'Lucida Grande', Arial, sans-serif;"   >Alternatively, you can provide the entire regular expression pattern by overriding the class attribute&nbsp;<em>pattern</em>. If you do this, the value must be a regular expression object with four named capturing groups. The capturing groups correspond to the rules given above, along with the invalid placeholder rule:</p><ul style="color: rgb(34, 34, 34); font-family: 'Lucida Grande', Arial, sans-serif; line-height: normal;"   ><li style="text-align: justify; line-height: 20.7999992370605px;"   ><em>escaped</em>&nbsp;C This group matches the escape sequence, e.g.&nbsp;<tt style="padding: 0px 1px; font-size: 15.4399995803833px; font-family: monospace, sans-serif; border-radius: 3px; background-color: rgb(236, 240, 243);"   ><span>$$</span></tt>, in the default pattern.</li><li style="text-align: justify; line-height: 20.7999992370605px;"   ><em>named</em>&nbsp;C This group matches the unbraced placeholder name; it should not include the delimiter in capturing group.</li><li style="text-align: justify; line-height: 20.7999992370605px;"   ><em>braced</em>&nbsp;C This group matches the brace enclosed placeholder name; it should not include either the delimiter or braces in the capturing group.</li><li style="text-align: justify; line-height: 20.7999992370605px;"   ><em>invalid</em>&nbsp;C This group matches any other delimiter pattern (usually a single delimiter), and it should appear last in the regular expression.</li></ul></div><div><br></div>
<a rel="nofollow" href="http://info.flagcounter.com/h9V1"   ><img title="python variable substitute in string using string Template module - 德哥@Digoal - PostgreSQL research"   src="http://s03.flagcounter.com/count/h9V1/bg_FFFFFF/txt_000000/border_CCCCCC/columns_2/maxflags_12/viewers_0/labels_0/pageviews_0/flags_0/"   alt="Flag Counter"   border="0"   ></a></div>
	</div>
</div>
</body>
</html>