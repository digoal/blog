<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=gbk">
<title>PostgreSQL research</title>
<style type="text/css">
.blogcnt{line-height:160%;font-size:14px;text-align:left;word-wrap:break-word;}
.blogcnt *{line-height:160%;}
.blogcnt p{margin:0 0 10px;}
.blogcnt ul,.nbw-blog ol{margin:5px 0 5px 40px;padding:0}
.blogcnt em{font-style:italic;}
.blogcnt blockquote{font-size:1em;margin:auto 0 auto 35px;}
.blogcnt img{border:0;max-width:100%;}
</style>
</head>
<body style="color:#444444;">
<h1 id="blog-Title"><a href="index.html">PostgreSQL research</a></h1>
<div id="" style="padding:0 20px;">
	<h2 id="">PPTP VPN Server on RHEL or CentOS</h2>
	<h5 id="">2014-07-21 8:43:17&nbsp;&nbsp;&nbsp;<a href="http://blog.163.com/digoal@126/blog/static/163877040201462184317755/" target="_blank">查看原文&gt;&gt;</a></h5>
	<div class="" id="" style="padding:0 20px;">
		<div class="blogcnt" style="width:800px;">[原文链接]<wbr><div><a target="_blank" rel="nofollow" href="http://blog.csdn.net/mcsrainbow/article/details/4575801"   >http://blog.csdn.net/mcsrainbow/article/details/4575801</a></div><div><br></div><div><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; margin: 8pt 0cm 8pt 3cm;"   ><span style="font-family: 宋体;"   ><span style="font-size: small;"   >本章描述内容如下表所示。</span></span></p><table border="1"   cellspacing="0"   cellpadding="0"   style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; margin: auto auto auto 90.7pt; border-collapse: collapse;"   ><tbody><tr style="page-break-inside: avoid;"   ><td width="179"   valign="top"   style="padding: 0cm 5.4pt; width: 134.45pt; border: 1pt solid windowtext; background: rgb(217, 217, 217);"   ><p style="margin: 4pt 0cm;"   ><span style="font-family: 黑体;"   ><span style="font-size: small;"   >标题</span></span></p></td><td width="350"   valign="top"   style="border-color: windowtext windowtext windowtext rgb(236, 233, 216); border-right-width: 1pt; border-right-style: solid; padding: 0cm 5.4pt; border-top-width: 1pt; border-top-style: solid; width: 262.45pt; border-bottom-width: 1pt; border-bottom-style: solid; background: rgb(217, 217, 217);"   ><p style="margin: 4pt 0cm;"   ><span style="font-family: 黑体;"   ><span style="font-size: small;"   >内容</span></span></p></td></tr><tr style="page-break-inside: avoid;"   ><td width="179"   valign="top"   style="border-color: rgb(236, 233, 216) black black; border-right-width: 1pt; border-right-style: solid; padding: 0cm 5.4pt; border-left-width: 1pt; border-left-style: solid; width: 134.45pt; border-bottom-width: 1pt; border-bottom-style: solid; background-color: transparent;"   ><p style="margin: 4pt 0cm;"   ><span style="font-size: small;"   ><span lang="EN-US"   ><span style="font-family: 'Times New Roman';"   >1.1&nbsp;</span></span><span style="font-family: 宋体;"   >安装前的准备工作</span></span></p></td><td width="350"   valign="top"   style="border-color: rgb(236, 233, 216) black black rgb(236, 233, 216); border-right-width: 1pt; border-right-style: solid; padding: 0cm 5.4pt; width: 262.45pt; border-bottom-width: 1pt; border-bottom-style: solid; background-color: transparent;"   ><p style="margin: 4pt 0cm;"   ><span style="font-family: 宋体;"   ><span style="font-size: small;"   >介绍在安装前所需的准备工作。</span></span></p></td></tr><tr style="page-break-inside: avoid;"   ><td width="179"   valign="top"   style="border-color: rgb(236, 233, 216) black black; border-right-width: 1pt; border-right-style: solid; padding: 0cm 5.4pt; border-left-width: 1pt; border-left-style: solid; width: 134.45pt; border-bottom-width: 1pt; border-bottom-style: solid; background-color: transparent;"   ><p style="margin: 4pt 0cm;"   ><span style="font-size: small;"   ><span lang="EN-US"   ><span style="font-family: 'Times New Roman';"   >1.2</span></span><span style="font-family: 宋体;"   >安装</span><span lang="EN-US"   ><span style="font-family: 'Times New Roman';"   >PPTP VPN Server</span></span></span></p></td><td width="350"   valign="top"   style="border-color: rgb(236, 233, 216) black black rgb(236, 233, 216); border-right-width: 1pt; border-right-style: solid; padding: 0cm 5.4pt; width: 262.45pt; border-bottom-width: 1pt; border-bottom-style: solid; background-color: transparent;"   ><p style="margin: 4pt 0cm;"   ><span style="font-size: small;"   ><span style="font-family: 宋体;"   >介绍如何安装</span><span lang="EN-US"   ><span style="font-family: 'Times New Roman';"   >PPTP VPN Server</span></span><span style="font-family: 宋体;"   >。</span></span></p></td></tr><tr style="page-break-inside: avoid;"   ><td width="179"   valign="top"   style="border-color: rgb(236, 233, 216) black black; border-right-width: 1pt; border-right-style: solid; padding: 0cm 5.4pt; border-left-width: 1pt; border-left-style: solid; width: 134.45pt; border-bottom-width: 1pt; border-bottom-style: solid; background-color: transparent;"   ><p style="margin: 4pt 0cm;"   ><span style="font-size: small;"   ><span lang="EN-US"   ><span style="font-family: 'Times New Roman';"   >1.3&nbsp;</span></span><span style="font-family: 宋体;"   >配置</span><span lang="EN-US"   ><span style="font-family: 'Times New Roman';"   >PPTP VPN Server</span></span></span></p></td><td width="350"   valign="top"   style="border-color: rgb(236, 233, 216) black black rgb(236, 233, 216); border-right-width: 1pt; border-right-style: solid; padding: 0cm 5.4pt; width: 262.45pt; border-bottom-width: 1pt; border-bottom-style: solid; background-color: transparent;"   ><p style="margin: 4pt 0cm;"   ><span style="font-size: small;"   ><span style="font-family: 宋体;"   >介绍如何配置</span><span lang="EN-US"   ><span style="font-family: 'Times New Roman';"   >PPTP VPN Server</span></span><span style="font-family: 宋体;"   >。</span></span></p></td></tr></table><h2 style="margin: 30pt 0cm 8pt; padding: 0px; color: rgb(51, 51, 51); font-family: Arial; line-height: 26px; text-indent: 0cm; page-break-before: always;"   ><a style="color: rgb(51, 102, 153);" name="t0" rel="nofollow"   ></a><span style="font-size: large;"   ><span style="font-family: 黑体;"   ><span style="font-family: 'Book Antiqua';"   >1.1&nbsp;</span>安装前的准备工作</span></span></h2><h3 style="margin: 10pt 0cm 8pt; padding: 0px; color: rgb(51, 51, 51); font-family: Arial; line-height: 26px; text-indent: 0cm;"   ><a style="color: rgb(51, 102, 153);" name="t1" rel="nofollow"   ></a><span style="font-size: large;"   ><span lang="EN-US"   ><span style="font-family: 'Book Antiqua';"   >1.1.1&nbsp;</span></span><span style="font-family: 黑体;"   >获取</span><span style="font-family: 'Book Antiqua';"   >PPTP VPN Server</span><span style="font-family: 黑体;"   >安装包</span></span></h3><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; margin: 8pt 0cm 8pt 3cm;"   ><span style="font-size: small;"   ><span style="font-family: 宋体;"   >确保已取得</span><span style="font-family: 'Times New Roman';"   >PPTP VPN Server</span><span style="font-family: 宋体;"   >的相关安装文件；</span></span></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; margin: 8pt 0cm 8pt 3cm;"   ><span style="font-size: small;"   ><span style="font-family: 宋体;"   >基于</span><span style="font-family: 'Times New Roman';"   >RedHat Linux AS4 Update7</span><span style="font-family: 宋体;"   >操作系统所需软件包：</span></span></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; margin: 8pt 0cm 8pt 3cm;"   ><span style="font-size: small;"   ><span style="font-family: 'Times New Roman';"   >-dkms-2.0.6-1.noarch.rpm</span></span></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; margin: 8pt 0cm 8pt 3cm;"   ><span style="font-size: small;"   ><span style="font-family: 'Times New Roman';"   >-kernel_ppp_mppe-1.0.2-3dkms.noarch.rpm</span></span></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; margin: 8pt 0cm 8pt 3cm;"   ><span style="font-size: small;"   ><span style="font-family: 'Times New Roman';"   >-ppp-2.4.3-5.rhel4.i386.rpm</span></span></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; margin: 8pt 0cm 8pt 3cm;"   ><span style="font-size: small;"   ><span style="font-family: 'Times New Roman';"   >-pptpd-1.3.3-1.rhel4.i386.rpm</span></span></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; margin: 8pt 0cm 8pt 3cm;"   ><span style="font-size: small;"   ><span style="font-family: 宋体;"   >基于</span><span style="font-family: 'Times New Roman';"   >RedHat Enterprise Linux 5 Update2</span><span style="font-family: 宋体;"   >操作系统所需软件包：</span></span></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; margin: 8pt 0cm 8pt 3cm;"   ><span style="font-size: small;"   ><span style="font-family: 'Times New Roman';"   >-&nbsp;pptpd-1.3.3-1.i386.rpm</span></span></p><h3 style="margin: 10pt 0cm 8pt; padding: 0px; color: rgb(51, 51, 51); font-family: Arial; line-height: 26px; text-indent: 0cm;"   ><a style="color: rgb(51, 102, 153);" name="t2" rel="nofollow"   ></a><span style="font-size: large;"   ><span lang="EN-US"   ><span style="font-family: 'Book Antiqua';"   >1.1.2&nbsp;</span></span><span style="font-family: 黑体;"   >检查操作系统版本</span></span></h3><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; margin: 8pt 0cm 8pt 3cm;"   ><span style="font-size: small;"   ><span style="font-family: 宋体;"   >执行命令</span><span style="font-family: 'Times New Roman';"   ># cat /etc/redhat-release</span><span style="font-family: 宋体;"   >，检查操作系统版本信息。</span></span></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; margin: 8pt 0cm 8pt 3cm;"   ><span style="font-size: small;"   ><span style="font-family: 宋体;"   >屏幕显示信息为</span></span></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; margin: 8pt 0cm 8pt 3cm;"   ><span style="font-size: small;"   ><span style="font-family: 'Times New Roman';"   >Red Hat Enterprise Linux AS release 4 (Nahant Update 7)</span></span></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; margin: 8pt 0cm 8pt 3cm;"   ><span style="font-size: small;"   ><span style="font-family: 宋体;"   >表示已是符合要求的</span><span style="font-family: 'Times New Roman';"   >RHEL AS 4.0</span><span style="font-family: 宋体;"   >以上版本。</span></span></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; margin: 8pt 0cm 8pt 3cm;"   ><span style="font-size: small;"   ><span style="font-family: 'Times New Roman';"   >Red Hat Enterprise Linux Server release 5.2 (Tikanga)</span></span></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; margin: 8pt 0cm 8pt 3cm;"   ><span style="font-size: small;"   ><span style="font-family: 宋体;"   >表示已是符合要求的</span><span style="font-family: 'Times New Roman';"   >RHEL 5.0</span><span style="font-family: 宋体;"   >以上版本。</span></span></p><h2 style="margin: 30pt 0cm 8pt; padding: 0px; color: rgb(51, 51, 51); font-family: Arial; line-height: 26px; text-indent: 0cm; page-break-before: always;"   ><a style="color: rgb(51, 102, 153);" name="t3" rel="nofollow"   ></a><span style="font-size: large;"   ><span style="font-family: 'Book Antiqua';"   >1.2&nbsp;</span><span style="font-family: 黑体;"   >安装</span><span style="font-family: 'Book Antiqua';"   >PPTP VPN Server</span></span></h2><h3 style="margin: 10pt 0cm 8pt; padding: 0px; color: rgb(51, 51, 51); font-family: Arial; line-height: 26px; text-indent: 0cm;"   ><a style="color: rgb(51, 102, 153);" name="t4" rel="nofollow"   ></a><span style="font-size: large;"   ><span lang="EN-US"   ><span style="font-family: 'Book Antiqua';"   >1.2.1&nbsp;</span></span><span style="font-family: 黑体;"   >基于</span><span style="font-family: 'Book Antiqua';"   >RHEL&nbsp;AS&nbsp;4.7</span><span style="font-family: 黑体;"   >的安装步骤</span></span></h3><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; text-indent: 0cm; margin: 4pt 0cm 4pt 3cm;"   ><span style="font-size: small;"   ><span lang="EN-US"   ><span style="font-family: 'Times New Roman';"   >1</span></span><span style="font-family: 宋体;"   >）更新</span><span lang="EN-US"   ><span style="font-family: 'Times New Roman';"   >PPP</span></span><span style="font-family: 宋体;"   >组件</span></span></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; margin: 8pt 0cm 8pt 3cm;"   ><span style="font-size: small;"   ><span lang="EN-US"   ><span style="font-family: 'Times New Roman';"   >PPTP</span></span><span style="font-family: 宋体;"   >需要</span><span lang="EN-US"   ><span style="font-family: 'Times New Roman';"   >PPP</span></span><span style="font-family: 宋体;"   >支持，虽然系统本身具备</span><span lang="EN-US"   ><span style="font-family: 'Times New Roman';"   >PPP</span></span><span style="font-family: 宋体;"   >，但它并不支持</span><span lang="EN-US"   ><span style="font-family: 'Times New Roman';"   >MPPE</span></span><span style="font-family: 宋体;"   >，因此需要更新。</span></span></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; margin: 8pt 0cm 8pt 3cm;"   ><span lang="EN-US"   ><span style="font-size: small; font-family: 'Times New Roman';"   ># rpm -Uvh ppp-2.4.3-5.rhel4.i386.rpm</span></span></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; text-indent: 0cm; margin: 4pt 0cm 4pt 3cm;"   ><span style="font-size: small;"   ><span lang="EN-US"   ><span style="font-family: 'Times New Roman';"   >2</span></span><span style="font-family: 宋体;"   >）安装内核</span><span lang="EN-US"   ><span style="font-family: 'Times New Roman';"   >MPPE</span></span><span style="font-family: 宋体;"   >补丁</span></span></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; margin: 8pt 0cm 8pt 3cm;"   ><span style="font-size: small;"   ><span lang="EN-US"   ><span style="font-family: 'Times New Roman';"   >MPPE</span></span><span style="font-family: 宋体;"   >是</span><span lang="EN-US"   ><span style="font-family: 'Times New Roman';"   >Microsoft Point to Point Encryption</span></span><span style="font-family: 宋体;"   >，微软点对点加密，因为</span><span lang="EN-US"   ><span style="font-family: 'Times New Roman';"   >PPTP VPN</span></span><span style="font-family: 宋体;"   >协议是由微软主导开发的，因此必须添加该协议补丁。</span></span></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; margin: 8pt 0cm 8pt 3cm;"   ><span lang="EN-US"   ><span style="font-size: small; font-family: 'Times New Roman';"   ># rpm -ivh dkms-2.0.6-1.noarch.rpm</span></span></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; margin: 8pt 0cm 8pt 3cm;"   ><span lang="EN-US"   ><span style="font-size: small; font-family: 'Times New Roman';"   ># rpm -ivh kernel_ppp_mppe-1.0.2-3dkms.noarch.rpm</span></span></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; margin: 8pt 0cm 8pt 3cm;"   ><span style="font-size: small;"   ><span style="font-family: 宋体;"   >安装完成后用以下命令检查内核</span><span lang="EN-US"   ><span style="font-family: 'Times New Roman';"   >MPPE</span></span><span style="font-family: 宋体;"   >补丁是否安装成功：</span></span></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; margin: 8pt 0cm 8pt 3cm;"   ><span lang="EN-US"   ><span style="font-size: small; font-family: 'Times New Roman';"   ># modprobe ppp-compress-18 &amp;&amp; echo ‘ok! MPPE was found !’</span></span></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; margin: 8pt 0cm 8pt 3cm;"   ><span style="font-size: small;"   ><span style="font-family: 宋体;"   >若结果显示“</span><span lang="EN-US"   ><span style="font-family: 'Times New Roman';"   >ok! MPPE was found !</span></span><span style="font-family: 宋体;"   >”则表示成功。</span></span></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; text-indent: 0cm; margin: 4pt 0cm 4pt 3cm;"   ><span style="font-size: small;"   ><span lang="EN-US"   ><span style="font-family: 'Times New Roman';"   >3</span></span><span style="font-family: 宋体;"   >）安装</span><span lang="EN-US"   ><span style="font-family: 'Times New Roman';"   >PPTPD</span></span></span></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; margin: 8pt 0cm 8pt 3cm;"   ><span style="font-size: small;"   ><span style="font-family: 'Times New Roman';"   ><span lang="EN-US"   ># rpm -ivh&nbsp;</span>pptpd-1.3.3-1.rhel4.i386.rpm</span></span></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; text-indent: 0cm; margin: 4pt 0cm 4pt 3cm;"   ><span style="font-size: small;"   ><span lang="EN-US"   ><span style="font-family: 'Times New Roman';"   >4</span></span><span style="font-family: 宋体;"   >）检查</span><span lang="EN-US"   ><span style="font-family: 'Times New Roman';"   >PPP</span></span><span style="font-family: 宋体;"   >是否支持</span><span lang="EN-US"   ><span style="font-family: 'Times New Roman';"   >MPPE</span></span></span></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; margin: 8pt 0cm 8pt 3cm;"   ><span lang="EN-US"   ><span style="font-size: small; font-family: 'Times New Roman';"   ># strings '/usr/sbin/pppd'|grep -i mppe|wc -l</span></span></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; margin: 8pt 0cm 8pt 3cm;"   ><span style="font-size: small;"   ><span style="font-family: 宋体;"   >若结果显示“</span><span lang="EN-US"   ><span style="font-family: 'Times New Roman';"   >0</span></span><span style="font-family: 宋体;"   >”则表示不支持，而“</span><span lang="EN-US"   ><span style="font-family: 'Times New Roman';"   >30</span></span><span style="font-family: 宋体;"   >”或更大的数字就表示支持。</span></span></p><h3 style="margin: 10pt 0cm 8pt; padding: 0px; color: rgb(51, 51, 51); font-family: Arial; line-height: 26px; text-indent: 0cm;"   ><a style="color: rgb(51, 102, 153);" name="t5" rel="nofollow"   ></a><span style="font-size: large;"   ><span lang="EN-US"   ><span style="font-family: 'Book Antiqua';"   >1.2.2&nbsp;</span></span><span style="font-family: 黑体;"   >基于</span><span style="font-family: 'Book Antiqua';"   >RHEL&nbsp;5.2</span><span style="font-family: 黑体;"   >的安装步骤</span></span></h3><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; margin: 8pt 0cm 8pt 3cm;"   ><span style="font-size: small;"   ><span style="font-family: 宋体;"   >因为</span><span lang="EN-US"   ><span style="font-family: 'Times New Roman';"   >RHEL 5.2</span></span><span style="font-family: 宋体;"   >的内核已经集成了</span><span lang="EN-US"   ><span style="font-family: 'Times New Roman';"   >MPPE</span></span><span style="font-family: 宋体;"   >和高版本的</span><span lang="EN-US"   ><span style="font-family: 'Times New Roman';"   >PPP</span></span><span style="font-family: 宋体;"   >，因此可以跳过安装配置</span><span lang="EN-US"   ><span style="font-family: 'Times New Roman';"   >MPPE</span></span><span style="font-family: 宋体;"   >和</span><span lang="EN-US"   ><span style="font-family: 'Times New Roman';"   >PPP</span></span><span style="font-family: 宋体;"   >的过程直接安装</span><span lang="EN-US"   ><span style="font-family: 'Times New Roman';"   >PPTP</span></span><span style="font-family: 宋体;"   >。</span></span></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; text-indent: 0cm; margin: 4pt 0cm 4pt 3cm;"   ><span style="font-size: small;"   ><span lang="EN-US"   ><span style="font-family: 'Times New Roman';"   >1</span></span><span style="font-family: 宋体;"   >）检查内核</span><span lang="EN-US"   ><span style="font-family: 'Times New Roman';"   >MPPE</span></span><span style="font-family: 宋体;"   >补丁</span></span></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; margin: 8pt 0cm 8pt 3cm;"   ><span style="font-size: small;"   ><span style="font-family: 宋体;"   >用以下命令检查内核是否支持</span><span lang="EN-US"   ><span style="font-family: 'Times New Roman';"   >MPPE</span></span><span style="font-family: 宋体;"   >补丁：</span></span></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; margin: 8pt 0cm 8pt 3cm;"   ><span lang="EN-US"   ><span style="font-size: small; font-family: 'Times New Roman';"   ># modprobe ppp-compress-18 &amp;&amp; echo ‘ok! MPPE was found !’</span></span></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; margin: 8pt 0cm 8pt 3cm;"   ><span style="font-size: small;"   ><span style="font-family: 宋体;"   >若结果显示“</span><span lang="EN-US"   ><span style="font-family: 'Times New Roman';"   >ok! MPPE was found !</span></span><span style="font-family: 宋体;"   >”则表示支持。</span></span></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; text-indent: 0cm; margin: 4pt 0cm 4pt 3cm;"   ><span style="font-size: small;"   ><span lang="EN-US"   ><span style="font-family: 'Times New Roman';"   >2</span></span><span style="font-family: 宋体;"   >）检查</span><span lang="EN-US"   ><span style="font-family: 'Times New Roman';"   >PPP</span></span><span style="font-family: 宋体;"   >是否支持</span><span lang="EN-US"   ><span style="font-family: 'Times New Roman';"   >MPPE</span></span></span></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; margin: 8pt 0cm 8pt 3cm;"   ><span lang="EN-US"   ><span style="font-size: small; font-family: 'Times New Roman';"   ># strings '/usr/sbin/pppd'|grep -i mppe|wc -l</span></span></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; margin: 8pt 0cm 8pt 3cm;"   ><span style="font-size: small;"   ><span style="font-family: 宋体;"   >若结果显示“</span><span lang="EN-US"   ><span style="font-family: 'Times New Roman';"   >0</span></span><span style="font-family: 宋体;"   >”则表示不支持，而“</span><span lang="EN-US"   ><span style="font-family: 'Times New Roman';"   >30</span></span><span style="font-family: 宋体;"   >”或更大的数字就表示支持。</span></span></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; text-indent: 0cm; margin: 4pt 0cm 4pt 3cm;"   ><span style="font-size: small;"   ><span lang="EN-US"   ><span style="font-family: 'Times New Roman';"   >3</span></span><span style="font-family: 宋体;"   >）安装</span><span lang="EN-US"   ><span style="font-family: 'Times New Roman';"   >PPTPD</span></span></span></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; margin: 8pt 0cm 8pt 3cm;"   ><span style="font-size: small;"   ><span style="font-family: 'Times New Roman';"   ><span lang="EN-US"   ># rpm -ivh&nbsp;</span>pptpd-1.3.3-1.i386.rpm</span></span></p><h2 style="margin: 30pt 0cm 8pt; padding: 0px; color: rgb(51, 51, 51); font-family: Arial; line-height: 26px; text-indent: 0cm; page-break-before: always;"   ><a style="color: rgb(51, 102, 153);" name="t6" rel="nofollow"   ></a><span style="font-size: large;"   ><span style="font-family: 'Book Antiqua';"   >1.3&nbsp;</span><span style="font-family: 黑体;"   >配置</span><span style="font-family: 'Book Antiqua';"   >PPTP VPN Server</span></span></h2><h3 style="margin: 10pt 0cm 8pt; padding: 0px; color: rgb(51, 51, 51); font-family: Arial; line-height: 26px; text-indent: 0cm;"   ><a style="color: rgb(51, 102, 153);" name="t7" rel="nofollow"   ></a><span style="font-size: large;"   ><span lang="EN-US"   ><span style="font-family: 'Book Antiqua';"   >1.3.1&nbsp;</span></span><span style="font-family: 黑体;"   >编辑</span><span style="font-family: 'Book Antiqua';"   >pptpd.conf</span><span style="font-family: 黑体;"   >文件</span></span></h3><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; margin: 8pt 0cm 8pt 3cm;"   ><span style="font-size: small;"   ><span style="font-family: 宋体;"   >编辑</span><span style="font-family: 'Times New Roman';"   >&nbsp;/etc/pptpd.conf</span><span style="font-family: 宋体;"   >文件，配置以下常用选项：</span></span></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; margin: 8pt 0cm 8pt 3cm;"   ><span style="font-size: small;"   ><span style="font-family: 'Times New Roman';"   ><span style="background: rgb(217, 217, 217);"   >option /etc/ppp/options.pptpd</span>&nbsp;&nbsp;//PPP</span><span style="font-family: 宋体;"   >组件将使用的配置文件；</span></span></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; margin: 8pt 0cm 8pt 3cm;"   ><span style="font-size: small;"   ><span style="font-family: 'Times New Roman';"   ><span style="background: rgb(217, 217, 217);"   >stimeout 120</span>&nbsp;&nbsp;//</span><span style="font-family: 宋体;"   >开始</span><span style="font-family: 'Times New Roman';"   >PPTP</span><span style="font-family: 宋体;"   >控制连接的超时时间，以秒计；</span></span></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; margin: 8pt 0cm 8pt 3cm;"   ><span style="font-size: small;"   ><span style="font-family: 'Times New Roman';"   ><span style="background: rgb(217, 217, 217);"   >debug</span>&nbsp;&nbsp;//</span><span style="font-family: 宋体;"   >把所有</span><span style="font-family: 'Times New Roman';"   >debug</span><span style="font-family: 宋体;"   >信息记入系统日志</span><span style="font-family: 'Times New Roman';"   >/var/log/messages</span><span style="font-family: 宋体;"   >；</span></span></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; margin: 8pt 0cm 8pt 3cm;"   ><span style="font-size: small;"   ><span style="font-family: 'Times New Roman';"   ><span style="background: rgb(217, 217, 217);"   >localip 192.168.1.10</span>&nbsp;//</span><span style="font-family: 宋体;"   >服务器</span><span style="font-family: 'Times New Roman';"   >VPN</span><span style="font-family: 宋体;"   >虚拟接口将分配的</span><span style="font-family: 'Times New Roman';"   >IP</span><span style="font-family: 宋体;"   >地址，可设置为与</span><span style="font-family: 'Times New Roman';"   >VPN</span><span style="font-family: 宋体;"   >服务器内网地址相同网段的</span><span style="font-family: 'Times New Roman';"   >IP</span><span style="font-family: 宋体;"   >，也可以设置为另一网段的</span><span style="font-family: 'Times New Roman';"   >IP</span><span style="font-family: 宋体;"   >；</span></span></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; margin: 8pt 0cm 8pt 3cm;"   ><span style="font-size: small;"   ><span style="font-family: 'Times New Roman';"   ><span style="background: rgb(217, 217, 217);"   >remoteip 192.168.1.11-30</span>&nbsp;&nbsp;//</span><span style="font-family: 宋体;"   >客户端</span><span style="font-family: 'Times New Roman';"   >VPN</span><span style="font-family: 宋体;"   >连接成功后将分配的</span><span style="font-family: 'Times New Roman';"   >IP</span><span style="font-family: 宋体;"   >地址段，同样可设置为与</span><span style="font-family: 'Times New Roman';"   >VPN</span><span style="font-family: 宋体;"   >服务器内网地址相同网段的</span><span style="font-family: 'Times New Roman';"   >IP</span><span style="font-family: 宋体;"   >地址段，也可以设置为另一网段的</span><span style="font-family: 'Times New Roman';"   >IP</span><span style="font-family: 宋体;"   >地址段；</span></span></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; margin: 8pt 0cm 8pt 3cm;"   ><span style="font-size: small;"   ><span style="font-family: 'Times New Roman';"   ><span style="background: rgb(217, 217, 217);"   >#logwtmp</span>&nbsp;//</span><span style="font-family: 宋体;"   >注释掉该功能项，该功能项的作用是“使用</span><span style="font-family: 'Times New Roman';"   >wtmp</span><span style="font-family: 宋体;"   >记录客户端的连接与断开信息”，在</span><span style="font-family: 'Times New Roman';"   >RHEL 5.2</span><span style="font-family: 宋体;"   >中会与</span><span style="font-family: 'Times New Roman';"   >PPP</span><span style="font-family: 宋体;"   >产生版本冲突，必须注释掉；但在</span><span style="font-family: 'Times New Roman';"   >RHEL AS 4.7</span><span style="font-family: 宋体;"   >中不会产生冲突，如果需要可以开启；</span></span></p><h3 style="margin: 10pt 0cm 8pt; padding: 0px; color: rgb(51, 51, 51); font-family: Arial; line-height: 26px; text-indent: 0cm;"   ><a style="color: rgb(51, 102, 153);" name="t8" rel="nofollow"   ></a><span style="font-size: large;"   ><span lang="EN-US"   ><span style="font-family: 'Book Antiqua';"   >1.3.2&nbsp;</span></span><span style="font-family: 黑体;"   >编辑</span><span style="font-family: 'Book Antiqua';"   >options.pptpd</span><span style="font-family: 黑体;"   >文件</span></span></h3><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; margin: 8pt 0cm 8pt 3cm;"   ><span style="font-size: small;"   ><span style="font-family: 宋体;"   >编辑</span><span style="font-family: 'Times New Roman';"   >&nbsp;/etc/ppp/options.pptpd</span><span style="font-family: 宋体;"   >文件，配置以下常用选项：</span></span></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; margin: 8pt 0cm 8pt 3cm;"   ><span style="background: rgb(217, 217, 217);"   ><span style="font-size: small;"   ><span style="font-family: 'Times New Roman';"   >auth</span></span></span></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; margin: 8pt 0cm 8pt 3cm;"   ><span style="background: rgb(217, 217, 217);"   ><span style="font-size: small;"   ><span style="font-family: 'Times New Roman';"   >lock</span></span></span></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; margin: 8pt 0cm 8pt 3cm;"   ><span style="background: rgb(217, 217, 217);"   ><span style="font-size: small;"   ><span style="font-family: 'Times New Roman';"   >debug</span></span></span></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; margin: 8pt 0cm 8pt 3cm;"   ><span style="background: rgb(217, 217, 217);"   ><span style="font-size: small;"   ><span style="font-family: 'Times New Roman';"   >proxyarp</span></span></span></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; margin: 8pt 0cm 8pt 3cm;"   ><span style="font-size: small;"   ><span style="font-family: 'Times New Roman';"   ><span style="background: rgb(217, 217, 217);"   >name pptpd</span>&nbsp;&nbsp;//</span><span style="font-family: 宋体;"   >修改“</span><span style="font-family: 'Times New Roman';"   >pptpd</span><span style="font-family: 宋体;"   >”为当前</span><span style="font-family: 'Times New Roman';"   >VPN</span><span style="font-family: 宋体;"   >服务器的主机名</span></span></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; margin: 8pt 0cm 8pt 3cm;"   ><span style="background: rgb(217, 217, 217);"   ><span style="font-size: small;"   ><span style="font-family: 'Times New Roman';"   >multilink</span></span></span></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; margin: 8pt 0cm 8pt 3cm;"   ><span style="background: rgb(217, 217, 217);"   ><span style="font-size: small;"   ><span style="font-family: 'Times New Roman';"   >refuse-pap</span></span></span></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; margin: 8pt 0cm 8pt 3cm;"   ><span style="background: rgb(217, 217, 217);"   ><span style="font-size: small;"   ><span style="font-family: 'Times New Roman';"   >refuse-chap</span></span></span></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; margin: 8pt 0cm 8pt 3cm;"   ><span style="background: rgb(217, 217, 217);"   ><span style="font-size: small;"   ><span style="font-family: 'Times New Roman';"   >refuse-mschap</span></span></span></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; margin: 8pt 0cm 8pt 3cm;"   ><span style="background: rgb(217, 217, 217);"   ><span style="font-size: small;"   ><span style="font-family: 'Times New Roman';"   >refuse-eap</span></span></span></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; margin: 8pt 0cm 8pt 3cm;"   ><span style="background: rgb(217, 217, 217);"   ><span style="font-size: small;"   ><span style="font-family: 'Times New Roman';"   >refuse-mschap-v2</span></span></span></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; margin: 8pt 0cm 8pt 3cm;"   ><span style="background: rgb(217, 217, 217);"   ><span style="font-size: small;"   ><span style="font-family: 'Times New Roman';"   >require-mppe</span></span></span></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; margin: 8pt 0cm 8pt 3cm;"   ><span style="font-size: small;"   ><span style="font-family: 'Times New Roman';"   ><span style="background: rgb(217, 217, 217);"   >ms-dns 192.168.1.10</span>&nbsp;&nbsp;#DNS</span><span style="font-family: 宋体;"   >服务器地址</span></span></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; margin: 8pt 0cm 8pt 3cm;"   ><span style="background: rgb(217, 217, 217);"   ><span style="font-size: small;"   ><span style="font-family: 'Times New Roman';"   >dump</span></span></span></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; margin: 8pt 0cm 8pt 3cm;"   ><span style="font-size: small;"   ><span style="font-family: 'Times New Roman';"   ><span style="background: rgb(217, 217, 217);"   >logfile /var/log/pptpd.log</span>&nbsp;#</span><span style="font-family: 宋体;"   >日志存放的路径</span></span></p><h3 style="margin: 10pt 0cm 8pt; padding: 0px; color: rgb(51, 51, 51); font-family: Arial; line-height: 26px; text-indent: 0cm;"   ><a style="color: rgb(51, 102, 153);" name="t9" rel="nofollow"   ></a><span style="font-size: large;"   ><span lang="EN-US"   ><span style="font-family: 'Book Antiqua';"   >1.3.3&nbsp;</span></span><span style="font-family: 黑体;"   >编辑</span><span style="font-family: 'Book Antiqua';"   >chap-secrets</span><span style="font-family: 黑体;"   >文件</span></span></h3><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; margin: 8pt 0cm 8pt 3cm;"   ><span style="font-size: small;"   ><span style="font-family: 宋体;"   >编辑</span><span style="font-family: 'Times New Roman';"   >&nbsp;/etc/ppp/chap-secrets</span><span style="font-family: 宋体;"   >文件，配置</span><span style="font-family: 'Times New Roman';"   >VPN</span><span style="font-family: 宋体;"   >用户信息：</span></span></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; margin: 8pt 0cm 8pt 3cm;"   ><span style="background: rgb(217, 217, 217);"   ><span style="font-size: small;"   ><span style="font-family: 'Times New Roman';"   ># Secrets for authentication using CHAP&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span></span></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; margin: 8pt 0cm 8pt 3cm;"   ><span style="background: rgb(217, 217, 217);"   ><span style="font-size: small;"   ><span style="font-family: 'Times New Roman';"   ># client&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;server&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;secret&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IP addresses&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span></span></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; margin: 8pt 0cm 8pt 3cm;"   ><span style="background: rgb(217, 217, 217);"   ><span style="font-size: small;"   ><span style="font-family: 'Times New Roman';"   >"vpnuser01"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"vpn.user01@sfitc"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span></span></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; margin: 8pt 0cm 8pt 3cm;"   ><span style="background: rgb(217, 217, 217);"   ><span style="font-size: small;"   ><span style="font-family: 'Times New Roman';"   >"vpnuser02"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"vpn.user02@sfitc"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;192.168.1.12&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span></span></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; margin: 8pt 0cm 8pt 3cm;"   ><span style="background: rgb(217, 217, 217);"   ><span style="font-size: small; font-family: 'Times New Roman';"   >&nbsp;</span></span></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; margin: 8pt 0cm 8pt 3cm;"   ><span style="font-size: small;"   ><span style="font-family: 'Times New Roman';"   ><span style="background: rgb(217, 217, 217);"   >vpnuser01</span>&nbsp;&nbsp;//</span><span style="font-family: 宋体;"   >用户账号，需要用双引号包含</span></span></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; margin: 8pt 0cm 8pt 3cm;"   ><span style="font-size: small;"   ><span style="font-family: 'Times New Roman';"   ><span style="background: rgb(217, 217, 217);"   >*</span>&nbsp;&nbsp;//</span><span style="font-family: 宋体;"   >代表自动识别当前服务器主机名，也可以手动配置</span></span></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; margin: 8pt 0cm 8pt 3cm;"   ><span style="font-size: small;"   ><span style="font-family: 'Times New Roman';"   ><span style="background: rgb(217, 217, 217);"   >vpn.user01@sfitc</span>&nbsp;&nbsp;//</span><span style="font-family: 宋体;"   >用户密码，需要用双引号包含</span></span></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; margin: 8pt 0cm 8pt 3cm;"   ><span style="font-size: small;"   ><span style="font-family: 'Times New Roman';"   ><span style="background: rgb(217, 217, 217);"   >*</span>&nbsp;&nbsp;//</span><span style="font-family: 宋体;"   >代表自动分配可用的</span><span style="font-family: 'Times New Roman';"   >IP</span><span style="font-family: 宋体;"   >地址，可根据需要指定</span><span style="font-family: 'Times New Roman';"   >IP</span><span style="font-family: 宋体;"   >地址</span></span></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; margin: 8pt 0cm 8pt 3cm;"   ><span style="font-size: small; font-family: 'Times New Roman';"   >&nbsp;</span></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; margin: 8pt 0cm 8pt 3cm;"   ><span style="font-size: small;"   ><span style="font-family: 宋体;"   >除了上面直接编辑配置文件的方式，还可以使用</span><span style="font-family: 'Times New Roman';"   >vpnuser</span><span style="font-family: 宋体;"   >命令来进行配置：</span></span></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; margin: 8pt 0cm 8pt 3cm;"   ><span style="font-size: small;"   ><span style="font-family: 'Times New Roman';"   ># vpnuser add vpnuser01 vpn.user01@sfitc&nbsp;&nbsp;//</span><span style="font-family: 宋体;"   >添加一个</span><span style="font-family: 'Times New Roman';"   >vpnuser01</span><span style="font-family: 宋体;"   >用户</span></span></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; margin: 8pt 0cm 8pt 3cm;"   ><span style="font-size: small;"   ><span style="font-family: 'Times New Roman';"   ># vpnuser del vpnuser01&nbsp;&nbsp;//</span><span style="font-family: 宋体;"   >删除</span><span style="font-family: 'Times New Roman';"   >vpnuser01</span><span style="font-family: 宋体;"   >用户</span></span></p><h3 style="margin: 10pt 0cm 8pt; padding: 0px; color: rgb(51, 51, 51); font-family: Arial; line-height: 26px; text-indent: 0cm;"   ><a style="color: rgb(51, 102, 153);" name="t10" rel="nofollow"   ></a><span style="font-size: large;"   ><span lang="EN-US"   ><span style="font-family: 'Book Antiqua';"   >1.3.4&nbsp;</span></span><span style="font-family: 黑体;"   >防火墙与路由策略配置</span></span></h3><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; text-indent: 0cm; margin: 4pt 0cm 4pt 3cm;"   ><span style="font-size: small;"   ><span lang="EN-US"   ><span style="font-family: 'Times New Roman';"   >1</span></span><span style="font-family: 宋体;"   >）配置</span><span lang="EN-US"   ><span style="font-family: 'Times New Roman';"   >SELinux</span></span></span></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; margin: 8pt 0cm 8pt 3cm;"   ><span style="font-size: small;"   ><span style="font-family: 宋体;"   >对于默认开启了</span><span lang="EN-US"   ><span style="font-family: 'Times New Roman';"   >SELinux</span></span><span style="font-family: 宋体;"   >的主机，需要进行以下设置：</span></span></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; margin: 8pt 0cm 8pt 3cm;"   ><span style="font-size: small;"   ><span style="font-family: 宋体;"   >方法</span><span style="font-family: 'Times New Roman';"   >1</span><span style="font-family: 宋体;"   >，关闭</span><span style="font-family: 'Times New Roman';"   >SELinux</span><span style="font-family: 宋体;"   >认证</span></span></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; margin: 8pt 0cm 8pt 3cm;"   ><span style="font-size: small;"   ><span style="font-family: 宋体;"   >编辑</span><span style="font-family: 'Times New Roman';"   >&nbsp;/etc/selinux/config</span><span style="font-family: 宋体;"   >文件，配置以下选项</span></span></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; margin: 8pt 0cm 8pt 3cm;"   ><span style="background: rgb(217, 217, 217);"   ><span style="font-size: small;"   ><span style="font-family: 'Times New Roman';"   >SELINUX=disabled</span></span></span></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; margin: 8pt 0cm 8pt 3cm;"   ><span style="font-size: small;"   ><span style="font-family: 宋体;"   >然后执行以下命令使修改生效</span></span></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; margin: 8pt 0cm 8pt 3cm;"   ><span style="font-size: small;"   ><span style="font-family: 'Times New Roman';"   ># setenforce 0</span></span></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; margin: 8pt 0cm 8pt 3cm;"   ><span style="font-size: small;"   ><span style="font-family: 宋体;"   >方法</span><span style="font-family: 'Times New Roman';"   >2</span><span style="font-family: 宋体;"   >，配置</span><span style="font-family: 'Times New Roman';"   >SELinux</span><span style="font-family: 宋体;"   >认证</span></span></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; margin: 8pt 0cm 8pt 3cm;"   ><span style="font-size: small;"   ><span style="font-family: 宋体;"   >执行以下命令使</span><span style="font-family: 'Times New Roman';"   >pppd</span><span style="font-family: 宋体;"   >与</span><span style="font-family: 'Times New Roman';"   >pptp</span><span style="font-family: 宋体;"   >通过</span><span style="font-family: 'Times New Roman';"   >SELinux</span></span></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; margin: 8pt 0cm 8pt 3cm;"   ><span lang="EN-US"   ><span style="font-size: small; font-family: 'Times New Roman';"   ># setsebool pppd_disable_trans 1</span></span></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; margin: 8pt 0cm 8pt 3cm;"   ><span lang="EN-US"   ><span style="font-size: small; font-family: 'Times New Roman';"   ># setssebool pptp_diable_trans 1</span></span></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; text-indent: 0cm; margin: 4pt 0cm 4pt 3cm;"   ><span style="font-size: small;"   ><span lang="EN-US"   ><span style="font-family: 'Times New Roman';"   >2</span></span><span style="font-family: 宋体;"   >）配置</span><span lang="EN-US"   ><span style="font-family: 'Times New Roman';"   >iptables</span></span></span></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; margin: 8pt 0cm 8pt 3cm;"   ><span style="font-size: small;"   ><span style="font-family: 宋体;"   >对与开启了</span><span lang="EN-US"   ><span style="font-family: 'Times New Roman';"   >iptables</span></span><span style="font-family: 宋体;"   >过滤的主机，需要开放</span><span lang="EN-US"   ><span style="font-family: 'Times New Roman';"   >VPN</span></span><span style="font-family: 宋体;"   >服务的端口：</span></span></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; margin: 8pt 0cm 8pt 3cm;"   ><span style="font-size: small;"   ><span style="font-family: 宋体;"   >编辑</span><span style="font-family: 'Times New Roman';"   >&nbsp;<span lang="EN-US"   >/etc/sysconfig/iptables</span></span><span style="font-family: 宋体;"   >文件，加入以下规则</span></span></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; margin: 8pt 0cm 8pt 3cm;"   ><span lang="EN-US"   style="background: rgb(217, 217, 217);"   ><span style="font-size: small;"   ><span style="font-family: 'Times New Roman';"   >-A RH-Firewall-1-INPUT -p gre -j ACCEPT</span></span></span></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; margin: 8pt 0cm 8pt 3cm;"   ><span lang="EN-US"   style="background: rgb(217, 217, 217);"   ><span style="font-size: small;"   ><span style="font-family: 'Times New Roman';"   >-A RH-Firewall-1-INPUT -p tcp -m state --state NEW -m tcp --dport 47 -j ACCEPT</span></span></span></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; margin: 8pt 0cm 8pt 3cm;"   ><span lang="EN-US"   style="background: rgb(217, 217, 217);"   ><span style="font-size: small;"   ><span style="font-family: 'Times New Roman';"   >-A RH-Firewall-1-INPUT -p tcp -m state --state NEW -m tcp --dport 1723 -j ACCEPT</span></span></span></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; margin: 8pt 0cm 8pt 3cm;"   ><span style="font-family: 宋体;"   ><span style="font-size: small;"   >然后执行以下命令使修改生效</span></span></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; margin: 8pt 0cm 8pt 3cm;"   ><span lang="EN-US"   ><span style="font-size: small; font-family: 'Times New Roman';"   ># iptables -A RH-Firewall-1-INPUT -p gre -j ACCEPT</span></span></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; margin: 8pt 0cm 8pt 3cm;"   ><span lang="EN-US"   ><span style="font-size: small; font-family: 'Times New Roman';"   ># iptables -A RH-Firewall-1-INPUT -p tcp -m state --state NEW -m tcp --dport 47 -j ACCEPT</span></span></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; margin: 8pt 0cm 8pt 3cm;"   ><span lang="EN-US"   ><span style="font-size: small; font-family: 'Times New Roman';"   ># iptables -A RH-Firewall-1-INPUT Cp tcp Cm state Cstate NEW Cm tcp Cdport 1723 Cj ACCEPT</span></span></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; text-indent: 0cm; margin: 4pt 0cm 4pt 3cm;"   ><span style="font-size: small;"   ><span lang="EN-US"   ><span style="font-family: 'Times New Roman';"   >3</span></span><span style="font-family: 宋体;"   >）开启数据包转发</span></span></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; margin: 8pt 0cm 8pt 3cm;"   ><span style="font-size: small;"   ><span style="font-family: 宋体;"   >因为</span><span lang="EN-US"   ><span style="font-family: 'Times New Roman';"   >VPN</span></span><span style="font-family: 宋体;"   >客户端在拨号后实际是通过服务器外网网卡进行数据通信的，那么要访问内网网段的地址就必须开启数据包转发，使外网网卡的数据包能够转发到内网网卡上。</span></span></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; margin: 8pt 0cm 8pt 3cm;"   ><span style="font-size: small;"   ><span style="font-family: 宋体;"   >编辑</span><span lang="EN-US"   ><span style="font-family: 'Times New Roman';"   >&nbsp;/etc/rc.local</span></span><span style="font-family: 宋体;"   >文件，加入以下规则</span></span></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; margin: 8pt 0cm 8pt 3cm;"   ><span lang="EN-US"   style="background: rgb(217, 217, 217);"   ><span style="font-size: small;"   ><span style="font-family: 'Times New Roman';"   >echo 1 &gt; /proc/sys/net/ipv4/ip_forward</span></span></span></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; margin: 8pt 0cm 8pt 3cm;"   ><span style="font-family: 宋体;"   ><span style="font-size: small;"   >然后执行以下命令时修改生效</span></span></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; margin: 8pt 0cm 8pt 3cm;"   ><span lang="EN-US"   ><span style="font-size: small; font-family: 'Times New Roman';"   >echo 1 &gt; /proc/sys/net/ipv4/ip_forward</span></span></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; text-indent: 0cm; margin: 4pt 0cm 4pt 3cm;"   ><span style="font-size: small;"   ><span lang="EN-US"   ><span style="font-family: 'Times New Roman';"   >4</span></span><span style="font-family: 宋体;"   >）配置路由策略</span></span></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; margin: 8pt 0cm 8pt 3cm;"   ><span style="font-size: small;"   ><span style="font-family: 宋体;"   >一般来说，</span><span lang="EN-US"   ><span style="font-family: 'Times New Roman';"   >VPN</span></span><span style="font-family: 宋体;"   >服务器的内网</span><span lang="EN-US"   ><span style="font-family: 'Times New Roman';"   >IP</span></span><span style="font-family: 宋体;"   >是可以直接与所在的局域网通信的，但在某些安全性方面要求很高的环境中，各个网段间默认是隔离的，还需要添加路由策略才行；</span></span></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; margin: 8pt 0cm 8pt 3cm;"   ><span style="font-size: small;"   ><span style="font-family: 宋体;"   >添加静态路由使</span><span lang="EN-US"   ><span style="font-family: 'Times New Roman';"   >IP</span></span><span style="font-family: 宋体;"   >段</span><span lang="EN-US"   ><span style="font-family: 'Times New Roman';"   >192.168.1.0/24&nbsp;</span></span><span style="font-family: 宋体;"   >与</span><span lang="EN-US"   ><span style="font-family: 'Times New Roman';"   >192.168.5.0/24</span></span><span style="font-family: 宋体;"   >互通：</span></span></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; margin: 8pt 0cm 8pt 3cm;"   ><span lang="EN-US"   ><span style="font-size: small; font-family: 'Times New Roman';"   ># route add -net 192.168.5.0/24 dev eth1</span></span></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; margin: 8pt 0cm 8pt 3cm;"   ><span style="font-size: small;"   ><span lang="EN-US"   ><span style="font-family: 'Times New Roman';"   >//</span></span><span style="font-family: 宋体;"   >路由必须指定在内网网卡上，如上面的</span><span lang="EN-US"   ><span style="font-family: 'Times New Roman';"   >eth1</span></span></span></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; margin: 8pt 0cm 8pt 3cm;"   ><span lang="EN-US"   ><span style="font-size: small; font-family: 'Times New Roman';"   ># route add -net 192.168.5.0/24 gw 192.168.1.1 dev eth1</span></span></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; margin: 8pt 0cm 8pt 3cm;"   ><span style="font-size: small;"   ><span lang="EN-US"   ><span style="font-family: 'Times New Roman';"   >//</span></span><span style="font-family: 宋体;"   >需要网关进行跨网段连接的情况，如上面的</span><span lang="EN-US"   ><span style="font-family: 'Times New Roman';"   >192.168.1.1</span></span></span></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; text-indent: 0cm; margin: 4pt 0cm 4pt 3cm;"   ><span style="font-size: small;"   ><span lang="EN-US"   ><span style="font-family: 'Times New Roman';"   >5</span></span><span style="font-family: 宋体;"   >）配置共享上网</span></span></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; margin: 8pt 0cm 8pt 3cm;"   ><span style="font-size: small;"   ><span style="font-family: 宋体;"   >在</span><span lang="EN-US"   ><span style="font-family: 'Times New Roman';"   >VPN</span></span><span style="font-family: 宋体;"   >客户端成功拨号以后，本地网络的默认网关会变为</span><span lang="EN-US"   ><span style="font-family: 'Times New Roman';"   >VPN</span></span><span style="font-family: 宋体;"   >服务器的</span><span lang="EN-US"   ><span style="font-family: 'Times New Roman';"   >VPN</span></span><span style="font-family: 宋体;"   >内网地址，这样会导致客户端只能够连接</span><span lang="EN-US"   ><span style="font-family: 'Times New Roman';"   >VPN</span></span><span style="font-family: 宋体;"   >服务器及其所在的内网，而不能访问互联网；</span></span></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; margin: 8pt 0cm 8pt 3cm;"   ><span style="font-size: small;"   ><span style="font-family: 宋体;"   >要解决这个问题需要配置共享上网策略，使</span><span lang="EN-US"   ><span style="font-family: 'Times New Roman';"   >VPN</span></span><span style="font-family: 宋体;"   >客户端在成功拨号以后，既能够访问对端内网地址，又能够访问互联网；</span></span></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; margin: 8pt 0cm 8pt 3cm;"   ><span style="font-size: small;"   ><span style="font-family: 宋体;"   >编辑</span><span lang="EN-US"   ><span style="font-family: 'Times New Roman';"   >&nbsp;/etc/rc.local</span></span><span style="font-family: 宋体;"   >文件，加入以下规则</span></span></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; margin: 8pt 0cm 8pt 3cm;"   ><span style="font-size: small;"   ><span style="font-family: 'Times New Roman';"   ><span lang="EN-US"   style="background: rgb(217, 217, 217);"   >iptables -t nat -A POSTROUTING -s 192.168.1.0/24 -o eth0 -j SNAT --to-source 221.221.221.221</span><span lang="EN-US"   ></span></span></span></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; margin: 8pt 0cm 8pt 3cm;"   ><span style="font-size: small;"   ><span lang="EN-US"   ><span style="font-family: 'Times New Roman';"   >//</span></span><span style="font-family: 宋体;"   >规则必须指定外网网卡与外网地址，如上面的</span><span lang="EN-US"   ><span style="font-family: 'Times New Roman';"   >eth0</span></span><span style="font-family: 宋体;"   >和外网地址</span><span lang="EN-US"   ><span style="font-family: 'Times New Roman';"   >221.221.221.221</span></span></span></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; margin: 8pt 0cm 8pt 3cm;"   ><span style="font-family: 宋体;"   ><span style="font-size: small;"   >然后执行以下命令时修改生效</span></span></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; margin: 8pt 0cm 8pt 3cm;"   ><span lang="EN-US"   ><span style="font-size: small; font-family: 'Times New Roman';"   ># iptables -t nat -A POSTROUTING -s 192.168.1.0/24 -o eth0 -j SNAT --to-source 221.221.221.221</span></span></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; text-indent: 0cm; margin: 4pt 0cm 4pt 3cm;"   ><span style="font-size: small;"   ><span lang="EN-US"   ><span style="font-family: 'Times New Roman';"   >6</span></span><span style="font-family: 宋体;"   >）重启或关闭服务</span></span></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; margin: 8pt 0cm 8pt 3cm;"   ><span style="font-size: small;"   ><span style="font-family: 宋体;"   >在修改了</span><span lang="EN-US"   ><span style="font-family: 'Times New Roman';"   >VPN</span></span><span style="font-family: 宋体;"   >服务器的相关配置之后，需要重启</span><span lang="EN-US"   ><span style="font-family: 'Times New Roman';"   >VPN</span></span><span style="font-family: 宋体;"   >服务才能生效</span></span></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; margin: 8pt 0cm 8pt 3cm;"   ><span style="font-size: small;"   ><span lang="EN-US"   ><span style="font-family: 'Times New Roman';"   ># /etc/init.d/pptpd restart //</span></span><span style="font-family: 宋体;"   >重启服务不会造成现有</span><span lang="EN-US"   ><span style="font-family: 'Times New Roman';"   >VPN</span></span><span style="font-family: 宋体;"   >连接中断</span></span></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; margin: 8pt 0cm 8pt 3cm;"   ><span style="font-size: small;"   ><span style="font-family: 宋体;"   >在需要关闭和开启</span><span lang="EN-US"   ><span style="font-family: 'Times New Roman';"   >VPN</span></span><span style="font-family: 宋体;"   >服务时候，通过以下方式</span></span></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; margin: 8pt 0cm 8pt 3cm;"   ><span style="font-size: small;"   ><span lang="EN-US"   ><span style="font-family: 'Times New Roman';"   ># /etc/init.d/pptpd stop //</span></span><span style="font-family: 宋体;"   >关闭服务，会造成现有</span><span lang="EN-US"   ><span style="font-family: 'Times New Roman';"   >VPN</span></span><span style="font-family: 宋体;"   >连接全部断开</span></span></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; margin: 8pt 0cm 8pt 3cm;"   ><span style="font-size: small;"   ><span lang="EN-US"   ><span style="font-family: 'Times New Roman';"   ># /etc/init.d/pptpd start //</span></span><span style="font-family: 宋体;"   >开启服务</span></span></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; margin: 8pt 0cm 8pt 3cm;"   ><span style="font-size: small;"   ><span style="font-family: 宋体;"   >至此，</span><span lang="EN-US"   ><span style="font-family: 'Times New Roman';"   >PPTP VPN Server</span></span><span style="font-family: 宋体;"   >的相关配置就全部完成了，下面我们讲一下如何使用</span><span lang="EN-US"   style="color: black;"   ><span style="font-family: 'Times New Roman';"   >Windows</span></span><span style="color: black; font-family: 宋体;"   >的</span><span lang="EN-US"   style="color: black;"   ><span style="font-family: 'Times New Roman';"   >VPN</span></span><span style="color: black; font-family: 宋体;"   >客户端进行连接。</span></span></p><h3 style="margin: 10pt 0cm 8pt; padding: 0px; color: rgb(51, 51, 51); font-family: Arial; line-height: 26px; text-indent: 0cm;"   ><a style="color: rgb(51, 102, 153);" name="t11" rel="nofollow"   ></a><span style="font-size: large;"   ><span lang="EN-US"   ><span style="font-family: 'Book Antiqua';"   >1.3.5&nbsp;</span></span><span style="font-family: 黑体;"   >客户端连接配置</span></span></h3><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; text-indent: 0cm; margin: 4pt 0cm 4pt 3cm;"   ><span style="font-size: small;"   ><span lang="EN-US"   ><span style="font-family: 'Times New Roman';"   >1</span></span><span style="font-family: 宋体;"   >）新建连接</span></span></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; margin: 8pt 0cm 8pt 3cm;"   ><span style="font-size: small;"   ><span style="font-family: 宋体;"   >右键单击“网上邻居”</span><span style="font-family: 宋体;"   >→“属性”，打开网络连接配置界面；</span></span></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; margin: 8pt 0cm 8pt 3cm;"   ><span style="font-size: small;"   ><span style="font-family: 宋体;"   >“创建一个新的连接”→“连接到我的工作场所网络”</span><span style="font-family: 'Times New Roman';"   >&nbsp;</span><span style="font-family: 宋体;"   >→“虚拟专用网络连接”</span><span style="font-family: 'Times New Roman';"   >&nbsp;</span><span style="font-family: 宋体;"   >→“公司名（可以随便填写）”</span><span style="font-family: 'Times New Roman';"   >&nbsp;</span><span style="font-family: 宋体;"   >→“不拨初始连接”</span><span style="font-family: 'Times New Roman';"   >&nbsp;</span><span style="font-family: 宋体;"   >→“</span><span style="font-family: 'Times New Roman';"   >IP</span><span style="font-family: 宋体;"   >地址（填入</span><span style="font-family: 'Times New Roman';"   >VPN</span><span style="font-family: 宋体;"   >服务器的</span><span style="font-family: 'Times New Roman';"   >IP</span><span style="font-family: 宋体;"   >地址）”→</span><span style="font-family: 'Times New Roman';"   >&nbsp;</span><span style="font-family: 宋体;"   >选中“在我的桌面上添加一个到此方式的快捷方式”，最后单击“完成”，就建立起了一个新的</span><span style="font-family: 'Times New Roman';"   >VPN</span><span style="font-family: 宋体;"   >连接。</span></span></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; text-indent: 0cm; margin: 4pt 0cm 4pt 3cm;"   ><span style="font-size: small;"   ><span lang="EN-US"   ><span style="font-family: 'Times New Roman';"   >2</span></span><span style="font-family: 宋体;"   >）建立连接</span></span></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; margin: 8pt 0cm 8pt 3cm;"   ><span style="font-size: small;"   ><span style="font-family: 宋体;"   >双击刚才建立好的连接，填入设置好的用户名和密码，单击“确定”进行连接。</span></span></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; margin: 8pt 0cm 8pt 3cm;"   ><span style="font-size: small;"   ><span style="font-family: 宋体;"   >连接成功后，在连接的“详细信息”里可以看到服务器所分配的</span><span style="font-family: 'Times New Roman';"   >IP</span><span style="font-family: 宋体;"   >地址等信息，这时就可以跟连接进入的局域网里的其它计算机进行通信了。</span></span></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; text-indent: 0cm; margin: 4pt 0cm 4pt 3cm;"   ><span style="font-size: small;"   ><span lang="EN-US"   ><span style="font-family: 'Times New Roman';"   >3</span></span><span style="font-family: 宋体;"   >）高级选项</span></span></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; margin: 8pt 0cm 8pt 3cm;"   ><span style="font-size: small;"   ><span style="font-family: 宋体;"   >如果能确定对端内网地址的网段与</span><span style="font-family: 'Times New Roman';"   >VPN</span><span style="font-family: 宋体;"   >拨号连接后本地所分配的地址的网段相同，那么就可以不通过上面的“配置共享上网”步骤，而</span><span style="font-family: 宋体;"   >使</span><span lang="EN-US"   ><span style="font-family: 'Times New Roman';"   >VPN</span></span><span style="font-family: 宋体;"   >客户端在成功拨号以后，既能够访问对端内网地址，又能够访问互联网；</span></span></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; margin: 8pt 0cm 8pt 3cm;"   ><span style="font-size: small;"   ><span style="color: black; font-family: 宋体;"   >右键单击刚刚创建的连接，再依次单击“属性”→“网络（选择</span><span lang="EN-US"   style="color: black;"   ><span style="font-family: 'Times New Roman';"   >TCP/IP</span></span><span style="color: black; font-family: 宋体;"   >协议）”→“属性”→“高级”，然后把“在远程网络上使用默认网关”前面的勾去掉，单击“确定”，然后再重新建立连接。</span></span></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; text-indent: 0cm; margin: 4pt 0cm 4pt 3cm;"   ><span style="font-size: small;"   ><span lang="EN-US"   ><span style="font-family: 'Times New Roman';"   >4</span></span><span style="font-family: 宋体;"   >）网络要求</span></span></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; margin: 8pt 0cm 8pt 3cm;"   ><span style="font-family: 宋体;"   ><span style="font-size: small;"   >必须注意的是，通过路由器等设备共享上网的用户，其本地内网的网段不能与对端的内网网段相同，如果相同会导致在成功拨号后，不能正常的进行数据通讯；</span></span></p><p style="color: rgb(51, 51, 51); font-family: Arial; font-size: 14px; line-height: 26px; margin: 8pt 0cm 8pt 3cm;"   ><span style="font-family: 宋体;"   ><span style="font-size: small;"   >造成这个问题的原因在于本地电脑的直连路由策略，它会定义本地网络的同一网段的数据包仅在内网询问，而不需要经过网关；因此要解决这个问题，必须更改本地内网的网段才行。</span></span></p></div>
<a rel="nofollow" href="http://info.flagcounter.com/h9V1"   ><img title="在Redhat Linux上 PPTP VPN Server 的安装配置 - 德哥@Digoal - PostgreSQL research"   src="http://s03.flagcounter.com/count/h9V1/bg_FFFFFF/txt_000000/border_CCCCCC/columns_2/maxflags_12/viewers_0/labels_0/pageviews_0/flags_0/"   alt="Flag Counter"   border="0"   ></a></div>
	</div>
</div>
</body>
</html>