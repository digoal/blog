## Oracle DBLINK抽数据不成功导致的源数据库回滚段暴增  
                                 
### 作者                                 
digoal                                
                                  
### 日期                                
2010-05-11                                                                                                                       
                                 
### 标签                                               
Oracle , DBLINK , 回滚段                        
                                    
----                                   
                                    
## 背景                               
有两个跨WAN的测试数据库，使用DBLINK传输数据,  
  
最近DBLINK在抽大数据时频频超时断开，查了很久，终于查出F5的默认配置的问题，间歇性的数据包将被拒绝.  
  
原来是这样的:DBLINK抽取数据时，用tcpdump可以看出TCP包发送会有间歇性的中断，具体是什么原因目前还没有深入研究。  
  
由于在排错时一直对远程数据尝试获取，导致了源数据库的回滚区不断变大，还好数据库监控发现及时。  
  
临时解决办法：将数据抽取改成分片抽取，化大事务为小事务跑了一段时间。  
  
最终通过修改F5配置后没再出现过异常。  
  
希望以此文引以为鉴，DBLINK不要使用大事务！  
      
[Count](http://info.flagcounter.com/h9V1)                                  
                                  
